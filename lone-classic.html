<!DOCTYPE html>
<html>

<!-- LONE Classic, a Celeste Classic inspired game made by Swordy -->

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<!-- Title is automatically set to the project name -->
	<title>Loading...</title>
	<style>
		
		
		/* Change the color as you want */
		:root {
			--background-color: #000000;
		}
		
		body {
		    background-color: var(--background-color);
		}
		
		html, body, #wrapper {
			width: 100%;
		    height: 100%;
			margin: 0px;
			padding: 0px;
		}
		
		
		canvas {
			width: fit-content;
			height: fit-content;
		}
		
		canvas:focus {
			outline: none;
		}
        
        h1 {
        	color: white;
        }
		
		/* Automatically fits to the remaining height and centers the canvas it contains */
		#wrapper {
			padding: 0px;
			margin: 0px;
			display: flex;
			justify-content: center;
			align-items: center;
			width: 100%;
		}
		
</style>
</head>
<body id="wrapper">
    <!-- Canvases with a class of "sketch" are applied to the program in the order importPJS() is called. -->
    <canvas class="sketch"></canvas>
    <h1 id="debug">debug</h1>
    
    <script>
    
    </script>
    
	<!-- Load the PJS library -->
	<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/Khan/processing-js@master/processing.js"></script>
	<!-- The exporter script must be loaded before the program script -->
	<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/Mushy-Avocado/KA-exporter@main/exporter.js"></script>
	<!-- Run Khan Academy program and import PJS -->
	<script type="application/javascript">
		
		
		function program() {
		    document.getElementById("debug").innerHTML = 2;
		    title("Lone v1.1.1");
		    size(600, 600);
		    
		    // All code goes here
			/**
			 * =─=─=─=─=─=─=─=─=─=─=─=─=─=─=─=─=─=─=─=─=─=─=─=─=─=─
			 * 
			 *      ███████████████████████████████████████╗
			 *      ██░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██║
			 *      ██ ██╗░░░░░░█████╗░███╗░░██╗███████╗░██║
			 *      ██ ██║░░░░░██╔══██╗████╗░██║██╔════╝░██║
			 *      ██ ██║░░░░░██║░░██║██╔██╗██║█████╗░░░██║
			 *      ██ ██║░░░░░██║░░██║██║╚████║██╔══╝░░░██║
			 *      ██ ███████╗╚█████╔╝██║░╚███║███████╗░██║
			 *      ██ ╚══════╝░╚════╝░╚═╝░░╚══╝╚══════╝░██║
			 *      ███████████████████████████████████████║
			 *      ╚══════════════════════════════════════╝
			 * 
			 * Check out the optimized version made by Electric Dolphin.
			 *  He done a really good job and I thank him for that :)
			 * 
			 *              |                         |
			 *              v                         v
			 * 
			 * https://www.khanacademy.org/computer-programming/images/6730113813233664
			 * 
			 * Update Log ─~~─~~─~~─~~─~~─~~─~~─~~─~~─~~─~~─~~─~~─
			 * 
			 * 12/15/23 - v1.1.1 - Bug fix by Levi F, where the game
			 *                     window had "gaps" in between pixels
			 * 
			 * 12/15/23 - v1.1.0 - Optimized version been created,
			 *                     thank you Electric <3
			 *                     Optimized fps using image functions
			 *                     Added Arrow Keys
			 *                     Fixed text-size at ending scene
			 * 
			 * 12/15/23 - v1.0.2 - Slighed tunred up dark colors.
			 *                     fixed start position on Stage 17.
			 *                     fixed debug level-editor.
			 * 
			 * 12/14/23 - v1.0.1 - Seted Canvas size to 600px.
			 * 12/14/23 - v1.0.0 - Published
			 * 
			 * Bug Log ─~~─~~─~~─~~─~~─~~─~~─~~─~~─~~─~~─~~─~~─~~─
			 * 
			 * - Leaving the game open or not focused in the tab long
			 *   enough causes a "type-error". Most likely from all
			 *   the line of code the game has.
			 * 
			 * - Pixel-Perfect wall jump at the bottom of the screen
			 *   causes game to crash. Most likely a issue of the
			 *   collision reaching past the bounds of the level.
			 *   
			 *   I sadly can't fix this in time before my 2-week
			 *   "vaccation", so sadly this is gonna stay put for now.
			 * 
			**/
			
			
			/** Sprite Work **/
			var flipSprXAxis = function(spr) {
			    var temp1 = "";
			    var temp2 = "";
			    
			    for (var j=0; j<10; j++) {
			        for (var i=0; i<10; i++) {
			            temp2 = spr[i+j*10]+temp2;
			        }
			        temp1=temp1+temp2;
			        var temp2 = "";
			    }
			    
			    return temp1;
			};
			var flipSprYAxis = function(spr) {
			    var temp1 = "";
			    var temp2 = "";
			    
			    var counter = 0;
			    for (var i = 0; i<spr.length; i++) {
			        temp2=temp2+spr[i];
			        counter++;
			        if (counter===10) {
			            counter=0;
			            temp1=temp2+temp1;
			            var temp2 = "";
			        }
			    }
			    return temp1;
			};
			
			var PalSides = [
			    [null,color(19,60,13),color(34,97,23),color(129,171,122),color(7,13,6)],
			    [null,color(36, 22, 64),color(38, 77, 148),color(92, 204, 133),color(6,6,13)]
			];
			var PAL = PalSides[0];
			
			var SPR_PATS = ["0000000000","0001111000001131110000114341000012222000","0001111000001143410000112221000012222000","3333333333","4444444444","4444241444","2222222222","1111111111","2322232323","2323222321","000000000000011110000011111100001113110000143431000002222000","000000000000011110000011111100001113110000143431000212222000"];
			
			/** Sprite Sheet **/
			var SPR_SHEET = [];
			var SPR_IMAGES = [];
			for (var i=0; i<128; i++) {
			    SPR_SHEET.push(0);
			}
			for (var i=0; i<3; i++) { SPR_SHEET = [
			    /** Player **/
			    // Idle
			    SPR_PATS[0]+SPR_PATS[0]+SPR_PATS[1]+"0001310000002111200000022200000033033000",
			    SPR_PATS[0]+SPR_PATS[0]+"00011110000011311100001113110000122220000001310000002111200000022200000033033000",
			    
			    // Walk
			    SPR_PATS[0]+SPR_PATS[0]+SPR_PATS[1]+"0001130000002011200000032200000003303000",
			    SPR_PATS[0]+SPR_PATS[0]+SPR_PATS[1]+"0000130000000021000000002200000000330000",
			    SPR_PATS[0]+SPR_PATS[0]+SPR_PATS[1]+"0000130000000112000000032230000003303000",
			    
			    // Jump & Fall
			    SPR_PATS[0]+SPR_PATS[0]+SPR_PATS[2]+"0001310000002112300000022030000003000000",
			    SPR_PATS[0]+SPR_PATS[0]+SPR_PATS[2]+"0001310000002111000000022230000003003000",
			    
			    SPR_PATS[0]+SPR_PATS[0]+SPR_PATS[1]+"0021310000000111200000322200000003033000",
			    SPR_PATS[0]+SPR_PATS[0]+"00011110000011111100002131110000134341000001311000003211020000302200000000030000",
			    
			    // Wall Cling
			    SPR_PATS[0]+SPR_PATS[0]+SPR_PATS[1]+"0021300000000112000000322000000030300000",
			    SPR_PATS[0]+SPR_PATS[0]+"00011110000011111100001141110000144440000002130000000311200000032200000000030000",
			    
			    /** Tiles **/
			    SPR_PATS[3]+"311111111131333333333131111111313144444431314333333131431111313143122231314312443131431244",
			    SPR_PATS[3]+"1311111111"+SPR_PATS[3]+"11111113110000000312"+SPR_PATS[3]+"1113111111222312222200031200000003120000",
			    flipSprXAxis(SPR_SHEET[11]),
			    
			    "3131431244333143124431314312443131433333313143111131314312223131431244313333124431311312443131231244",
			    "4443124444444312444444431244443333333333111321311122231132224443333444444312444444431244444443124444",
			    flipSprXAxis(SPR_SHEET[14]),
			    
			    flipSprYAxis(SPR_SHEET[11]),
			    flipSprYAxis(SPR_SHEET[12]),
			    flipSprYAxis(SPR_SHEET[13]),
			    
			    //20
			    SPR_PATS[0]+SPR_PATS[0]+"44222222224421111111442133333344213222224421321111442132133344213213114421321313",
			    flipSprXAxis(SPR_SHEET[20]),
			    flipSprYAxis(SPR_SHEET[20]),
			    flipSprXAxis(SPR_SHEET[22]),
			    
			    //24
			    SPR_PATS[3]+"31111111113133333333313111111131312222223131444444313111111131333333333111111311"+SPR_PATS[3],
			    SPR_PATS[3]+"1311111111"+SPR_PATS[3]+"1111111111222222222244444444441111111111"+SPR_PATS[3]+"1111111131"+SPR_PATS[3],
			    flipSprXAxis(SPR_SHEET[24]),
			    
			    //27
			    SPR_PATS[3]+"311111111331333333133131111313313122131333312413133131241313313124133331312413133131241313",
			    "3131241313313124133331312413133131241313313124131331312413133131241313313124131333312413133131241313",
			    flipSprYAxis(SPR_SHEET[27]),
			    
			    //30
			    SPR_PATS[3]+"311131111131333333333131111111313144444431314222223131421111333142133331314213113131421313",
			    flipSprXAxis(SPR_SHEET[30]),
			    flipSprYAxis(SPR_SHEET[30]),
			    flipSprXAxis(SPR_SHEET[32]),
			    
			    //34
			    "3131441313313144131331314413333131441111313144444431314222223131421111313142133333314213113131421313",
			    flipSprYAxis(flipSprXAxis(SPR_SHEET[34])),
			    SPR_PATS[3]+"1311111111"+SPR_PATS[3]+"1111111111444444444422222444441111241111333124133311312413113131241313",
			    flipSprYAxis(flipSprXAxis(SPR_SHEET[36])),
			    
			    "3131241313113333331133311113331313333231231321323243131132341313333231333222233311333333113131242313",
			    
			    SPR_PATS[3]+"34111111433123333213313111131331313213133131221313313111131331233332133422222243"+SPR_PATS[3],
			    
			    // 40
			    "4421341313442134131144213413334421341211442134122244213444444421341111442134133344213413114421341313",
			    
			    SPR_PATS[0]+SPR_PATS[0]+"222222222211111111113333333333"+SPR_PATS[0]+"1111441111333144133311314413113131441313",
			    flipSprYAxis(flipSprXAxis(SPR_SHEET[41])),
			    flipSprYAxis(flipSprXAxis(SPR_SHEET[40])),
			    
			    /** Spikes **/
			    //44
			    SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+"44443344444444323444434324343432324443233432444343",
			    
			    "4444444433444444432444444444334444443344444443244444444332444444444322444444443344444443244444444433",
			    
			    "4444444334334334343434322323444314444234443422423443142143444314444234443131134343434334334334444444",
			    
			    flipSprXAxis(SPR_SHEET[45]),
			    flipSprYAxis(SPR_SHEET[44]),
			    
			    /** Vent **/
			    //49
			    SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+"4333333334434444443443333333344344444434433333333443444444344333333334",
			    SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+"4333333334434444443443333333344344444434",
			    SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+"43333333334",
			    
			    /** Spring **/
			    //52
			    SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+"113333333344444244444444144444",
			    
			    SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+"23333333334444424444444414444444444244444444414444",
			    
			    /** Decor **/
			    // 54-55 - Fire Place
			    "4441241444444214144444421424444441241444444124144444421424444441242444444124244444412414444442141444",
			    "4442141444444124244444412424444441241444422111112442443444244144443424414433441442432334144243223424",
			    
			    // 56-57 - Chain & Lamp
			    "4444424444"+SPR_PATS[5]+SPR_PATS[5]+"4444414444"+SPR_PATS[5]+SPR_PATS[5]+"44444144444444424444"+SPR_PATS[5]+SPR_PATS[5],
			    "444442444444441414444444141444444441444444422222444444434444444433444444443134444442222244"+SPR_PATS[4],
			    
			    // 58-59 - Vent Sign
			    SPR_PATS[3]+"3111111111314141444131424242223142424422314242422231142244423112222222"+SPR_PATS[3]+SPR_PATS[4],
			    SPR_PATS[3]+"1111111113411414441344242242234244224223422422422342242242232222222223"+SPR_PATS[3]+SPR_PATS[4],
			    
			    // 60-61 - Desks
			    SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+"4433322244444214144444421414444442141444",
			    SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+"4444111444444433344444422214444433322244444214144444421414444442141444",
			    
			    // 62 - Chair and Desk
			    SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+"4444222111444441141444422214144444141414",
			    
			    /** Pizza. **/
			    // 63 - why is the pizza floating
			    SPR_PATS[4]+"44444111444411133344442333234444231333344423333434444231344444442344444444244444"+SPR_PATS[4],
			    
			    // 64-65 - Unused "COOL!"
			    SPR_PATS[4]+SPR_PATS[6]+"2333233323"+SPR_PATS[8]+SPR_PATS[8]+SPR_PATS[8]+"2333233323"+SPR_PATS[7]+SPR_PATS[4],
			    SPR_PATS[4]+"22222222213323222321"+SPR_PATS[9]+SPR_PATS[9]+SPR_PATS[9]+"23232222213323332321"+SPR_PATS[7]+SPR_PATS[4],
			    
			    /** Reflection **/
			    // 66-69
			    SPR_PATS[0]+"00011110000011131100001434110000022221000000131200000211100000002220000003030000"+SPR_PATS[0],
			    SPR_PATS[0]+"00011110000011131100001343410000022221000000131200000211100000002220000003030000"+SPR_PATS[0],
			    SPR_PATS[0]+"00011110000011111100001110110000000001000000131200000211100000002220000003030000"+SPR_PATS[0],
			    SPR_PATS[0]+"00011110000011111100001110110000020201000000131000000011100000002220000003030000"+SPR_PATS[0],
			    
			    /** Bedroom **/
			    // 70-71 - Bed
			    SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+"433333333343333333334112221221411144111141144441444114441114",
			    
			    "4424444424442231322444214441244424444424333333332433333333241221212214441414111444411441144444144114",
			    
			    // 72 - My favorite goober :3
			    SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+SPR_PATS[4]+"444442444444444224444444121444444322334444444224444444121244",
			    
			    // 73 - 79
			    SPR_PATS[0]+SPR_PATS[0]+"00011110000011131100001434110000022221000000131000000211200000002220000003030000"+SPR_PATS[0],
			    SPR_PATS[10]+"000013100000011112000020202330"+SPR_PATS[0],
			    
			    SPR_PATS[10]+"000013100000212110000333322300"+SPR_PATS[0],
			    SPR_PATS[10]+"002123100003131110000333322300"+SPR_PATS[0],
			    SPR_PATS[11]+"033313100003131110000333322300"+SPR_PATS[0],
			    SPR_PATS[10]+"033313100003131210000333322300"+SPR_PATS[0],
			    SPR_PATS[10]+"033313100003132110000333322300"+SPR_PATS[0],
			    
			    /** hey hey hey it's me **/
			    // 80 - 88
			    "0000000003000000000100000000110000000333000000013300000000130000000133000000011300000000110000003333",
			    "3000000000330000003033300003333330003333030303331003030331103030303110333330110011110311002223331000",
			    
			    //Place holder for looping
			    SPR_PATS[0]+SPR_PATS[0]+SPR_PATS[0]+SPR_PATS[0]+SPR_PATS[0]+SPR_PATS[0]+SPR_PATS[0]+SPR_PATS[0]+SPR_PATS[0]+SPR_PATS[0],
			    
			    "0000033333222222111302020201112333000000231030000023103002302333002313231030231323103023132333000230",
			    "3322300000333022222213320202020030000000"+SPR_PATS[0]+"02330023330231302310023300233002313023100231302333",
			    SPR_PATS[0]+"22222222220202020202"+SPR_PATS[0]+SPR_PATS[0]+"02330000000231300000023130000002313000000233000000",
			    
			    SPR_PATS[0]+"0233000000231030000023100023132313302313231030231323103023130233000230"+SPR_PATS[0]+SPR_PATS[0],
			    SPR_PATS[0]+SPR_PATS[0]+SPR_PATS[0]+"02313000000231300000002300000000230000000023000000"+SPR_PATS[0]+SPR_PATS[0],
			    
			    //Place holder for looping
			    SPR_PATS[0]+SPR_PATS[0]+SPR_PATS[0]+SPR_PATS[0]+SPR_PATS[0]+SPR_PATS[0]+SPR_PATS[0]+SPR_PATS[0]+SPR_PATS[0]+SPR_PATS[0],
			    
			    /** BG Chars **/
			    // 87 - 89
			    // 89 - 91
			    SPR_PATS[0]+"001000110000110130000021131000000121200000011110000103130000031133100000122200000033033000",
			    SPR_PATS[0]+SPR_PATS[0]+"00030300000003333000000141400003011330000302020000030302230000311101000022022100",
			    SPR_PATS[0]+SPR_PATS[0]+SPR_PATS[0]+"0012110000004242000001212200000032330000023323200000111122000020220220",
			    
			];}
			
			/** Consts **/
			var FontLvl = createFont("Monospace Bold",20);
			var FontDia = createFont("Verdana Italics");
			var FontTitle = createFont("Arial Bold",25);
			var FontMain = createFont("Verdana Bold",15);
			textAlign(CENTER,CENTER);
			
			var Gravity = 0.4;
			var Friction = 0.8;
			
			var PlayerCycle = [2,3,4,3];
			
			var TileMatrix = [
			    ["q0q011q11",11],
			    ["000111111",12],
			    ["q0q11011q",13],
			    
			    ["q11011q11",14],
			    ["111111111",15],
			    ["11q11011q",16],
			    
			    ["q11011q0q",17],
			    ["111111q0q",18],
			    ["11q110q0q",19],
			    
			    ["111111110",20],
			    ["111111011",21],
			    ["110111111",22],
			    ["011111111",23],
			    
			    ["q0q011q0q",24],
			    ["q0q111q0q",25],
			    ["q0q110q0q",26],
			    
			    ["q0q010q1q",27],
			    ["q1q010q1q",28],
			    ["q1q010q0q",29],
			    
			    ["q0q011q10",30],
			    ["q0q11001q",31],
			    ["q10011q0q",32],
			    ["01q110q0q",33],
			    
			    ["q1q011q1q",34],
			    ["q1q110q1q",35],
			    ["q0q111q10",36],
			    ["q1q111q0q",37],
			    
			    ["010111010",38],
			    ["q0q010q0q",39],
			    
			    ["110111110",40],
			    ["111111010",41],
			    ["010111111",42],
			    ["011111011",43],
			];
			var SpikeMatrix = [
			    ["qqqq2qq1q",44],
			    
			    ["qqqq21qqq",45],
			    ["qqq12qqqq",47],
			    
			    ["q1qq2qqqq",48],
			    
			    ["qqqq2qqqq",46],
			];
			var Decor1Matrix = [
			    // Desk
			    ["q0qq4qq1q",60],
			    
			    //Fire Place
			    ["qqqq4qq4q",54],
			    ["qqqq4qq1q",55],
			    
			    // Vent Sign
			    ["qqqq44qqq",58],
			    ["qqq44qqqq",59]
			];
			var Decor2Matrix = [
			    // Desk
			    ["q0qq4qq1q",61],
			    
			    // Chain & Lamp
			    ["qqqq4qq4q",56],
			    ["qqqq4qq1q",56],
			    
			    ["qqq040q0q",57],
			    
			    // Vent Sign
			    ["qqq44qqqq",59],
			    ["qqqq44qqq",58]
			];
			var Decor3Matrix = [
			    ["qqq060q1q",62],
			    
			    ["qqq066q11",70],
			    ["qqq666111",71],
			    ["qqq66011q",72],
			];
			
			var LevelCodes = [
			    /** Title Screen Level **/
			    [
			        [0,0,0,0,0,0,0,0,0,0,0,0,0],
			        [0,0,0,0,0,0,0,0,0,0,0,0,0],
			        [0,0,0,0,0,0,0,0,0,0,0,0,0],
			        [0,0,0,0,0,0,0,0,0,0,0,0,0],
			        [0,0,0,0,0,0,0,0,0,0,0,0,0],
			        [1,1,1,1,1,1,1,1,1,1,1,1,1],
			        [1,0,0,1,0,4,0,0,0,4,0,0,1],
			        [1,0,0,4,0,4,0,0,0,0,0,0,1],
			        [1,0,0,4,0,0,0,0,0,0,0,0,1],
			        [1,0,0,4,0,0,4,0,0,4,0,4,1],
			        [1,1,1,1,1,1,1,1,1,1,1,1,1],
			        [0,0,0,0,0,0,0,0,0,0,0,0,0],
			        [0,0,0,0,0,0,0,0,0,0,0,0,0],
			    ],
			    
			    /** 1-10 **/
			    [
			        [1,1,1,1,1,1,1,1,1,1,1,1,1],
			        [1,1,0,4,4,0,0,4,1,1,1,1,1],
			        [1,0,0,4,4,0,0,4,0,0,1,1,1],
			        [1,0,0,0,0,0,0,4,0,0,4,0,1],
			        [1,1,0,5,0,0,0,0,0,0,4,0,1],
			        [1,1,1,1,1,1,0,0,4,0,4,0,1],
			        [1,1,1,4,0,4,0,0,1,1,4,0,1],
			        [1,1,0,4,0,0,0,0,0,0,4,0,1],
			        [1,1,0,4,0,0,0,0,0,0,4,0,1],
			        [1,0,0,0,0,0,0,0,0,4,4,0,1],
			        [1,0,0,0,4,0,0,0,1,1,1,1,1],
			        [1,1,1,1,1,1,0,0,1,0,0,0,0],
			        [1,1,1,1,1,1,1,1,1,0,0,0,0]
			    ],
			    [
			        [1,1,1,1,1,1,1,1,1,1,1,1,1],
			        [1,1,1,1,1,1,1,1,0,4,4,0,1],
			        [1,1,0,4,0,1,1,0,0,4,4,0,1],
			        [1,0,0,4,0,0,4,0,0,0,0,0,1],
			        [1,0,0,0,0,4,4,0,0,0,5,0,1],
			        [1,0,0,0,1,1,1,1,1,1,1,1,1],
			        [1,0,0,0,0,4,0,1,1,1,1,1,1],
			        [1,0,0,0,0,4,0,0,0,1,1,1,1],
			        [1,0,0,1,0,0,0,0,0,4,0,0,1],
			        [1,0,0,1,2,0,4,0,0,4,0,0,1],
			        [1,0,0,1,1,1,1,0,0,0,0,0,1],
			        [1,0,0,1,0,0,1,2,2,1,1,1,1],
			        [1,0,0,1,0,0,1,1,1,1,0,0,1]
			    ],
			    [
			        [1,1,1,1,1,1,1,1,1,1,1,1,1],
			        [1,1,1,0,0,0,4,4,0,4,1,1,1],
			        [1,1,1,0,0,0,4,4,0,4,0,1,1],
			        [1,1,0,0,0,0,5,0,4,0,0,1,1],
			        [1,1,0,0,2,1,1,1,1,0,0,1,1],
			        [1,1,2,0,1,1,1,1,1,0,0,1,1],
			        [1,1,1,0,0,4,0,4,0,0,0,0,1],
			        [1,1,0,0,0,4,0,0,0,0,0,0,1],
			        [1,1,0,0,0,0,0,0,0,0,0,0,1],
			        [1,0,0,0,0,0,0,0,0,0,3,0,1],
			        [1,0,0,0,0,0,1,1,0,0,1,0,1],
			        [1,2,0,3,0,2,1,1,2,2,1,2,1],
			        [1,1,2,1,2,2,1,1,1,1,1,1,1]
			    ],
			    [
			        [1,1,1,1,1,1,1,0,0,4,0,0,1],
			        [1,0,0,0,1,1,1,0,0,4,0,0,1],
			        [1,0,0,0,0,1,1,0,0,4,0,0,1],
			        [1,1,1,0,0,2,0,0,2,0,0,0,1],
			        [1,0,1,0,0,4,4,0,1,2,2,0,1],
			        [1,0,1,0,0,1,1,1,1,1,1,0,1],
			        [1,0,1,0,0,1,0,0,1,0,0,0,1],
			        [1,0,1,2,2,1,0,0,1,0,0,0,1],
			        [1,1,1,1,1,1,1,1,1,0,0,0,1],
			        [1,1,1,4,4,0,1,0,0,0,2,2,1],
			        [1,1,0,4,4,0,4,0,0,0,1,1,1],
			        [1,1,0,5,0,0,4,4,0,0,1,0,1],
			        [1,1,1,1,1,1,1,1,0,0,1,0,1]
			    ],
			    [
			        [1,1,1,1,1,1,1,1,1,1,1,1,1],
			        [1,1,0,0,2,0,1,1,1,1,1,1,1],
			        [1,0,0,0,0,0,0,1,0,4,0,1,1],
			        [1,0,0,0,4,0,2,4,0,4,0,0,1],
			        [1,0,0,0,1,0,0,4,0,0,0,0,1],
			        [1,0,0,0,1,0,0,4,0,2,0,0,1],
			        [1,0,2,0,1,0,0,0,0,1,0,0,1],
			        [1,0,0,0,1,2,0,3,0,1,0,0,1],
			        [1,0,0,1,1,1,1,1,1,1,0,0,1],
			        [1,0,0,1,0,4,4,0,0,1,0,2,1],
			        [1,0,0,2,0,4,4,0,0,2,0,1,1],
			        [1,0,0,2,0,5,0,4,4,0,0,1,1],
			        [1,1,1,1,1,1,1,1,1,1,1,1,1]
			    ],
			    [
			        [1,1,1,1,1,0,0,0,0,1,1,1,1],
			        [1,1,4,4,0,0,0,0,0,0,0,1,1],
			        [1,0,4,4,0,0,0,2,0,0,0,0,1],
			        [1,0,0,0,0,0,2,1,0,4,0,0,1],
			        [1,0,0,5,0,1,0,4,2,1,0,0,1],
			        [1,0,1,1,1,1,0,4,0,2,0,0,1],
			        [1,0,1,1,1,0,2,0,0,0,0,0,1],
			        [1,3,1,1,4,0,0,0,0,0,0,0,1],
			        [1,4,0,0,4,0,0,0,0,3,0,0,1],
			        [1,4,4,0,4,0,0,0,0,1,0,0,1],
			        [1,1,1,1,1,1,2,0,0,4,0,0,1],
			        [1,0,0,0,0,1,0,0,0,0,0,0,1],
			        [1,0,0,0,0,1,0,0,0,0,1,1,1]
			    ],
			    [
			        [0,0,1,1,1,1,1,1,0,4,0,4,0],
			        [0,2,0,0,4,4,0,1,0,4,0,4,0],
			        [1,0,0,4,0,5,0,1,0,4,0,0,0],
			        [1,0,0,1,1,1,1,1,0,0,0,0,0],
			        [1,0,0,0,0,0,1,1,2,0,0,0,2],
			        [1,0,0,0,0,0,1,1,1,0,0,0,1],
			        [1,0,0,0,2,0,1,0,2,0,0,0,1],
			        [1,0,3,0,1,0,1,0,0,0,2,0,1],
			        [1,0,4,0,0,0,2,0,0,0,0,0,1],
			        [1,2,4,2,0,0,0,4,3,0,0,0,1],
			        [1,1,1,1,0,3,0,1,1,1,0,0,1],
			        [1,0,0,1,0,4,0,1,0,1,0,0,1],
			        [1,0,0,1,0,4,0,1,0,1,1,1,1]
			    ],
			    [
			        [1,1,1,1,1,1,1,1,1,1,1,1,1],
			        [1,0,0,4,0,2,0,0,1,0,4,4,1],
			        [1,0,0,4,0,0,0,0,1,0,4,4,1],
			        [1,0,0,0,0,0,0,0,1,0,0,5,1],
			        [1,0,2,0,4,2,0,0,1,0,1,1,1],
			        [1,0,1,1,1,1,0,0,1,0,0,0,1],
			        [1,0,0,2,0,1,0,0,1,0,0,0,1],
			        [1,0,0,0,0,1,0,0,1,0,0,0,1],
			        [1,0,0,0,2,1,1,1,1,0,0,1,1],
			        [1,2,2,0,1,1,0,4,0,0,0,0,1],
			        [1,1,1,0,4,0,0,0,0,0,0,0,1],
			        [0,0,1,0,4,4,0,2,4,0,2,0,1],
			        [0,0,1,1,1,1,1,1,1,0,0,0,1]
			    ],
			    [
			        [1,1,1,1,1,1,1,1,1,1,1,1,1],
			        [1,1,0,0,2,0,0,0,1,1,1,1,1],
			        [1,0,0,0,0,0,0,0,0,4,4,0,1],
			        [1,0,0,0,1,0,0,0,0,4,4,0,1],
			        [1,0,0,0,1,0,0,0,0,0,0,0,1],
			        [1,1,2,0,1,0,0,0,0,0,5,0,1],
			        [1,1,2,0,2,0,0,0,0,1,1,1,1],
			        [1,0,0,0,0,0,0,0,0,2,0,1,1],
			        [1,0,0,1,0,0,0,0,0,0,0,0,1],
			        [1,0,0,2,0,0,2,0,0,0,0,0,1],
			        [1,2,0,0,0,0,0,0,0,3,0,0,1],
			        [1,1,0,4,0,2,0,0,0,4,0,0,1],
			        [1,1,0,1,0,1,1,1,0,4,0,0,1]
			    ],
			    [
			        [1,1,1,1,1,1,1,1,1,1,1,1,1],
			        [1,1,1,0,2,0,0,0,0,1,1,0,1],
			        [1,1,0,0,1,0,0,1,0,4,4,0,1],
			        [1,1,0,0,2,0,0,1,0,4,4,0,1],
			        [1,0,0,0,0,0,0,1,0,0,0,0,1],
			        [1,0,0,0,0,1,0,1,0,5,4,0,1],
			        [1,0,0,0,0,0,0,1,1,1,1,1,1],
			        [1,0,1,0,0,0,0,0,0,0,0,0,1],
			        [1,0,1,2,2,1,0,1,1,1,1,3,1],
			        [1,0,2,0,0,1,0,4,0,0,0,4,1],
			        [1,0,0,0,0,1,0,0,0,0,0,4,1],
			        [1,4,0,0,0,1,0,2,0,0,0,4,1],
			        [1,1,0,1,0,1,0,1,0,0,2,1,1]
			    ],
			    
			    /** Reflection **/
			    [
			        [0,0,0,0,0,0,0,0,0,0,0,0,0],
			        [0,0,0,0,0,0,0,0,0,0,0,0,0],
			        [0,0,0,0,0,0,0,0,0,0,0,0,0],
			        [0,0,0,0,0,0,0,0,0,0,0,0,0],
			        [1,1,1,1,1,1,1,1,1,1,1,1,1],
			        [1,1,0,0,4,0,0,4,0,4,4,1,1],
			        [1,0,0,0,4,0,0,4,0,4,4,0,1],
			        [1,0,0,0,4,0,0,0,0,0,0,0,1],
			        [1,0,0,4,4,0,6,0,4,0,5,0,1],
			        [1,1,1,1,1,1,1,1,1,1,1,1,1],
			        [0,0,0,0,0,0,0,0,0,0,0,0,0],
			        [0,0,0,0,0,0,0,0,0,0,0,0,0],
			        [0,0,0,0,0,0,0,0,0,0,0,0,0]
			    ],
			    
			    /** 11-20 **/
			    [
			        [1,2,4,4,2,1,1,1,1,0,0,2,1],
			        [1,0,4,4,0,4,0,0,2,0,0,0,1],
			        [1,0,5,0,0,4,0,2,0,0,0,0,1],
			        [1,1,1,1,1,0,0,1,0,0,0,0,1],
			        [1,0,0,4,0,0,0,0,0,0,2,0,1],
			        [1,0,0,4,0,0,0,0,0,0,0,0,1],
			        [1,0,2,0,0,0,0,1,2,0,0,0,1],
			        [1,0,0,0,0,0,0,0,0,0,4,0,1],
			        [1,0,2,0,0,2,0,0,0,0,1,0,1],
			        [1,1,1,0,0,0,0,0,0,0,2,0,1],
			        [1,1,0,3,0,2,4,4,2,0,0,0,1],
			        [1,1,0,4,0,1,1,1,1,0,0,0,1],
			        [1,1,0,4,0,1,0,0,1,0,3,0,1]
			    ],
			    [
			        [1,1,1,1,1,1,1,1,1,1,0,4,0],
			        [1,4,4,0,1,2,0,0,1,1,4,0,4],
			        [2,4,4,0,1,0,0,0,1,1,1,1,1],
			        [0,4,4,0,1,0,1,1,1,1,1,1,1],
			        [2,0,0,0,2,0,0,0,0,0,0,0,1],
			        [1,5,0,0,2,0,0,0,0,0,0,2,1],
			        [1,1,0,0,1,0,0,0,4,4,0,1,1],
			        [1,2,0,0,0,2,2,2,1,1,0,0,1],
			        [1,0,0,0,0,1,1,1,0,4,0,2,1],
			        [1,0,0,0,0,0,4,0,0,4,0,0,1],
			        [1,0,3,0,0,0,4,0,0,0,0,2,1],
			        [1,0,1,0,0,1,1,1,1,2,0,1,1],
			        [1,0,1,0,0,1,0,0,1,0,0,0,1]
			    ],
			    [
			        [1,1,1,1,1,1,1,1,1,1,1,1,1],
			        [1,1,4,4,0,1,1,0,0,4,0,1,1],
			        [1,0,4,4,0,0,2,0,0,4,0,0,1],
			        [1,0,4,4,0,0,0,0,0,0,0,2,1],
			        [1,0,0,0,0,0,0,1,2,0,0,1,1],
			        [1,4,5,0,0,0,0,1,0,0,0,4,1],
			        [1,1,1,1,2,0,0,2,0,0,0,4,1],
			        [1,0,0,4,0,0,0,1,0,0,0,1,1],
			        [1,0,0,0,0,0,0,4,0,0,0,2,1],
			        [1,1,1,1,0,0,0,4,0,0,0,0,4],
			        [0,1,0,1,0,0,0,0,0,0,0,0,1],
			        [0,1,1,1,2,0,0,3,0,0,0,2,1],
			        [0,0,0,1,0,0,0,1,2,0,0,1,1]
			    ],
			    [
			        [1,1,1,2,0,0,0,4,4,2,1,1,1],
			        [1,1,0,0,0,0,0,4,4,0,0,1,1],
			        [1,0,0,0,0,0,5,0,0,0,0,0,1],
			        [1,0,0,0,0,2,1,2,0,0,0,0,1],
			        [1,0,0,0,0,0,2,0,0,0,0,0,1],
			        [1,0,2,0,0,0,0,0,0,1,2,0,1],
			        [1,0,0,0,0,0,0,0,0,4,0,0,1],
			        [1,0,0,0,0,0,0,0,0,4,0,0,1],
			        [1,0,0,0,0,0,2,0,0,0,0,2,1],
			        [1,0,3,0,0,0,1,0,4,0,3,0,1],
			        [1,0,1,2,0,0,0,2,1,0,1,0,1],
			        [1,0,1,0,0,0,0,0,0,0,0,0,1],
			        [1,0,1,0,0,0,1,0,0,0,0,0,1]
			    ],
			    [
			        [1,2,0,4,0,0,2,1,1,1,1,1,1],
			        [1,0,0,4,0,0,0,1,0,0,0,1,1],
			        [1,0,0,0,0,0,0,4,0,0,0,0,1],
			        [1,0,0,0,2,0,0,4,0,2,0,0,1],
			        [1,0,0,0,0,3,0,0,0,1,0,0,1],
			        [1,0,0,0,0,1,2,0,0,1,1,1,1],
			        [1,2,2,2,0,1,0,2,2,1,4,4,1],
			        [1,1,1,1,0,1,0,0,0,4,4,4,0],
			        [1,0,0,4,0,1,0,0,0,4,0,0,2],
			        [1,0,1,1,1,1,0,2,0,4,0,0,1],
			        [1,0,0,2,4,0,0,2,0,0,0,5,1],
			        [1,0,0,4,4,0,4,1,0,0,1,1,1],
			        [1,0,0,1,1,1,1,1,0,0,1,0,1]
			    ],
			    [
			        [1,1,1,1,1,1,1,1,1,1,1,1,1],
			        [1,0,0,0,1,0,0,2,0,0,0,0,1],
			        [1,0,1,0,4,0,1,1,0,1,1,0,1],
			        [1,0,1,1,1,0,0,0,0,0,1,0,1],
			        [1,0,2,0,1,1,0,1,1,2,1,0,1],
			        [1,0,1,0,1,2,0,2,1,0,0,0,1],
			        [1,0,1,0,0,0,0,0,0,0,1,0,1],
			        [1,0,0,0,1,2,0,2,1,0,1,2,1],
			        [1,0,1,0,1,1,0,1,1,0,1,1,1],
			        [1,2,1,0,0,1,0,1,0,0,4,4,1],
			        [1,0,1,1,0,1,0,1,0,0,4,4,1],
			        [1,0,0,0,0,0,0,1,0,5,0,0,1],
			        [1,1,1,1,2,1,1,1,0,1,0,0,1]
			    ],
			    [
			        [1,1,0,1,0,0,0,0,0,0,4,4,1],
			        [1,1,0,1,0,0,0,0,2,0,4,4,1],
			        [0,0,0,1,0,0,0,4,1,0,4,4,1],
			        [1,1,1,1,0,0,1,1,1,0,0,0,1],
			        [0,4,0,1,0,0,1,0,2,0,2,0,0],
			        [2,0,0,1,0,0,1,0,0,0,0,0,2],
			        [1,0,0,1,0,2,1,0,0,0,0,5,1],
			        [1,1,0,2,0,0,1,0,0,2,0,1,1],
			        [1,4,0,0,0,0,0,0,0,1,0,4,1],
			        [0,4,0,2,0,0,0,0,0,2,0,4,0],
			        [0,0,0,0,0,0,2,0,0,0,0,0,2],
			        [0,2,0,0,0,2,1,2,0,0,0,2,1],
			        [2,1,0,0,3,0,4,0,3,0,0,0,1]
			    ],
			    [
			        [0,2,0,2,0,4,1,4,0,0,4,4,0],
			        [0,0,0,0,0,4,2,4,0,0,4,4,0],
			        [2,0,0,0,2,0,0,0,2,0,0,0,2],
			        [1,0,0,0,1,0,0,0,1,0,0,0,1],
			        [1,0,0,0,1,0,0,0,1,0,5,4,1],
			        [1,0,0,2,1,0,0,0,1,0,1,1,1],
			        [1,0,2,0,1,0,0,0,1,0,0,4,2],
			        [0,0,0,0,2,0,0,0,1,0,0,1,0],
			        [2,0,0,0,0,0,0,0,2,0,0,1,0],
			        [1,0,0,0,0,0,0,0,0,0,0,4,0],
			        [1,0,0,0,2,0,0,0,0,0,0,2,2],
			        [1,2,4,0,1,0,0,0,0,0,2,1,1],
			        [1,1,1,1,1,0,0,0,3,0,1,1,1]
			    ],
			    [
			        [0,0,4,0,0,0,0,0,0,4,0,0,1],
			        [0,0,4,0,0,0,0,2,0,0,0,0,1],
			        [0,0,1,0,0,0,0,1,0,0,2,0,0],
			        [0,0,0,0,2,0,0,0,0,0,2,0,2],
			        [0,0,0,0,2,0,0,0,0,3,0,0,0],
			        [2,0,0,0,0,0,1,0,2,1,0,0,0],
			        [0,0,0,3,0,0,2,0,0,2,0,0,2],
			        [0,0,2,1,2,0,0,2,4,4,2,0,0],
			        [2,0,0,2,0,0,0,1,1,1,1,0,2],
			        [0,1,0,0,0,0,2,1,4,4,0,0,0],
			        [1,1,1,0,4,0,1,1,4,4,0,0,2],
			        [0,1,0,0,1,0,1,1,5,0,0,0,1],
			        [0,0,0,0,1,0,1,1,1,0,0,0,0]
			    ],
			    [
			        [1,1,1,1,1,1,1,1,0,4,0,2,1],
			        [1,0,0,4,0,1,0,0,0,4,0,0,1],
			        [1,0,0,4,0,1,0,0,2,0,0,0,1],
			        [1,0,0,0,0,2,0,0,0,0,2,0,1],
			        [1,0,2,0,0,0,0,0,0,0,1,0,1],
			        [1,0,1,0,0,0,1,0,0,0,1,1,1],
			        [1,0,0,1,2,0,1,0,2,0,1,1,1],
			        [1,0,0,0,0,2,1,2,1,2,4,1,1],
			        [1,0,2,1,0,0,1,0,0,0,4,4,2],
			        [1,2,0,0,0,2,1,0,0,0,4,4,0],
			        [1,1,0,1,2,0,4,0,2,0,0,0,2],
			        [1,0,0,0,0,0,4,0,1,0,5,0,1],
			        [1,0,1,0,1,1,1,1,1,1,1,1,1]
			    ],
			    
			    /** Bedroom **/
			    [
			        [0,0,0,0,0,0,0,0,0,0,0,0,0],
			        [0,0,0,0,0,0,0,0,0,0,0,0,0],
			        [0,0,0,0,0,0,0,0,0,0,0,0,0],
			        [0,0,0,0,0,0,0,0,0,0,0,0,0],
			        [1,1,1,1,1,1,1,1,1,1,1,1,1],
			        [1,1,0,4,0,1,1,1,1,4,0,1,1],
			        [1,0,0,4,0,0,1,0,0,4,0,0,1],
			        [1,0,0,4,0,0,4,0,0,0,0,0,1],
			        [1,0,0,0,0,0,4,0,0,0,0,0,1],
			        [1,0,0,0,0,0,4,0,0,0,0,0,1],
			        [1,0,0,4,4,0,4,0,6,6,6,0,1],
			        [1,1,1,1,1,1,1,1,1,1,1,1,1],
			        [1,1,1,0,1,1,0,1,1,0,1,1,1],
			    ],
			    
			    
			    /** B-Side **/
			    [
			        [1,1,1,1,1,1,1,1,1,1,1,1,1],
			        [1,1,0,4,4,0,0,4,0,1,1,1,1],
			        [1,0,0,4,4,0,0,4,0,4,0,1,1],
			        [1,0,0,0,0,0,0,4,0,0,0,0,1],
			        [1,0,5,0,2,0,0,0,0,0,0,0,1],
			        [1,1,1,1,1,1,0,0,2,4,2,0,1],
			        [1,1,1,1,1,1,0,2,1,1,1,0,1],
			        [1,1,0,0,1,1,0,0,0,0,0,0,1],
			        [1,0,0,0,4,2,0,0,0,0,0,0,1],
			        [1,0,0,0,4,0,0,0,4,0,2,3,1],
			        [1,0,0,0,4,0,0,0,1,1,1,1,1],
			        [1,1,1,1,1,1,2,2,1,1,1,1,1],
			        [1,1,1,1,1,1,1,1,1,1,1,1,1]
			    ],
			    [
			        [1,1,1,1,1,1,1,1,1,1,1,1,1],
			        [1,1,1,1,1,1,0,2,0,4,4,0,1],
			        [1,1,0,4,0,4,0,0,0,4,4,0,1],
			        [1,0,0,1,0,0,0,0,0,0,0,0,1],
			        [1,0,0,2,0,4,0,2,0,0,5,0,1],
			        [1,0,0,4,2,1,1,0,1,1,1,1,1],
			        [1,0,0,1,0,0,1,1,1,1,1,1,1],
			        [1,0,0,1,0,0,4,0,0,4,0,0,1],
			        [1,0,0,2,0,0,4,0,0,0,0,0,1],
			        [1,0,0,0,6,0,4,0,0,2,0,0,1],
			        [1,2,0,1,1,1,1,0,0,1,0,0,1],
			        [1,0,0,1,0,0,1,2,0,1,1,1,1],
			        [1,0,0,1,0,0,1,0,0,1,0,0,1]
			    ],
			    [
			        [1,1,1,1,1,1,4,1,1,1,1,1,1],
			        [1,1,0,4,0,1,1,1,0,4,2,1,1],
			        [1,1,0,0,0,0,1,0,0,4,0,1,1],
			        [1,1,0,0,0,0,2,0,1,0,0,1,1],
			        [1,1,2,0,2,6,0,4,1,0,0,1,1],
			        [1,1,1,0,1,1,1,1,1,0,0,1,1],
			        [1,1,1,0,1,1,1,4,0,0,0,0,1],
			        [1,4,4,0,0,1,0,4,0,0,0,2,1],
			        [1,4,4,0,0,2,0,0,2,0,0,0,1],
			        [1,0,0,0,0,0,0,0,0,0,0,0,1],
			        [1,0,0,5,0,2,1,1,2,0,3,0,1],
			        [1,2,0,1,2,0,1,1,0,0,1,0,1],
			        [1,1,0,1,1,0,1,1,0,0,0,0,1]
			    ],
			    [
			        [1,1,1,1,0,0,1,0,0,4,0,0,1],
			        [1,0,0,1,1,1,1,0,0,4,0,0,1],
			        [1,0,0,0,0,0,2,0,0,2,0,0,1],
			        [1,1,1,0,2,0,0,0,2,1,0,0,1],
			        [1,0,1,0,0,4,4,0,1,1,2,0,1],
			        [1,0,1,0,0,1,1,1,1,1,1,0,2],
			        [1,1,1,0,2,1,1,1,1,1,2,0,0],
			        [1,0,1,2,1,1,0,0,4,0,0,0,2],
			        [1,1,1,1,1,2,0,1,1,1,0,0,1],
			        [1,1,1,4,4,0,0,0,0,4,0,0,1],
			        [1,1,0,4,4,0,0,2,0,4,0,0,2],
			        [1,1,0,5,0,0,0,1,0,0,0,2,0],
			        [1,1,1,1,1,0,0,0,0,0,0,1,0]
			    ],
			    [
			        [1,1,1,1,1,1,1,1,1,1,1,1,1],
			        [1,1,1,0,4,0,1,1,1,1,1,1,1],
			        [1,0,0,0,4,2,1,0,0,4,0,1,1],
			        [1,0,0,0,4,0,1,2,0,4,0,0,1],
			        [1,0,0,0,1,0,2,0,0,0,0,0,1],
			        [1,0,2,0,1,0,0,0,0,2,0,0,1],
			        [1,2,0,0,1,0,0,0,0,1,2,0,1],
			        [1,0,0,4,1,2,2,3,2,1,0,0,1],
			        [1,0,0,1,1,1,1,1,1,1,0,0,1],
			        [1,2,0,1,0,4,4,0,0,1,0,2,1],
			        [1,0,0,1,0,4,4,0,0,2,0,1,1],
			        [1,0,0,2,0,5,0,0,6,0,4,1,1],
			        [1,1,0,0,0,1,1,1,1,0,1,1,1]
			    ],
			    
			    [
			        [1,1,1,1,1,0,0,0,0,4,1,1,1],
			        [1,1,0,4,1,0,0,0,0,4,4,1,1],
			        [1,0,0,4,2,0,0,2,0,4,4,0,1],
			        [1,0,0,0,0,0,0,1,0,5,0,0,1],
			        [1,0,0,6,0,0,0,4,2,1,2,0,1],
			        [1,0,2,1,3,0,0,4,0,2,0,0,1],
			        [1,0,1,1,1,0,2,0,0,0,0,0,1],
			        [1,0,2,1,0,0,0,0,0,0,0,0,1],
			        [1,0,0,2,0,0,0,0,0,2,0,0,1],
			        [1,0,0,0,0,4,0,0,0,1,0,0,1],
			        [1,2,1,0,0,1,2,0,0,4,0,0,1],
			        [1,1,1,0,2,4,0,0,0,0,0,0,1],
			        [1,0,1,0,1,4,0,0,0,0,1,1,1]
			    ],
			    [
			        [1,1,0,2,1,1,1,0,0,4,0,4,0],
			        [1,0,0,0,0,4,0,0,0,4,0,4,0],
			        [0,0,0,4,0,0,6,0,0,4,0,0,0],
			        [2,0,0,1,1,1,1,1,0,0,0,0,0],
			        [1,0,0,4,0,0,1,1,0,0,0,0,2],
			        [1,0,0,4,0,0,1,1,1,0,0,0,1],
			        [1,0,0,0,4,2,1,0,2,0,0,2,1],
			        [1,0,0,1,1,0,1,0,0,0,0,0,1],
			        [1,0,0,4,4,0,2,0,0,0,2,0,1],
			        [1,0,0,4,4,0,0,2,3,4,0,0,1],
			        [1,0,2,0,0,0,0,1,1,1,0,0,1],
			        [1,0,1,0,0,5,0,1,0,1,0,0,1],
			        [1,0,0,0,0,1,0,1,0,1,1,1,1]
			    ],
			    [
			        [1,1,1,1,0,4,0,0,1,1,1,1,1],
			        [1,1,0,4,0,0,0,0,1,0,4,4,1],
			        [1,0,0,4,0,2,0,0,1,0,4,4,1],
			        [1,0,0,0,0,1,0,0,1,0,0,5,1],
			        [1,0,0,2,0,2,0,0,1,0,1,1,1],
			        [1,0,2,6,0,1,0,2,0,0,0,0,1],
			        [1,0,1,1,0,0,0,0,1,0,0,1,1],
			        [2,0,0,1,0,2,0,0,1,0,0,2,0],
			        [0,0,0,1,3,1,1,1,1,0,0,0,0],
			        [0,0,2,1,1,1,0,4,0,0,0,0,2],
			        [0,0,0,0,4,2,0,0,0,0,0,3,0],
			        [2,0,0,0,4,0,0,4,0,0,0,4,0],
			        [1,0,0,2,1,0,0,1,1,0,0,4,0]
			    ],
			    [
			        [1,1,1,1,1,1,1,1,1,1,1,1,1],
			        [1,1,0,4,0,1,0,1,0,1,1,1,1],
			        [1,0,0,4,0,2,0,4,0,4,4,0,1],
			        [1,0,0,0,4,0,0,4,0,4,4,0,1],
			        [1,0,0,0,1,0,0,0,0,0,0,0,1],
			        [1,2,0,0,2,0,0,0,0,6,5,4,1],
			        [1,2,0,0,1,0,0,0,0,1,1,1,1],
			        [1,0,0,4,0,0,2,0,0,2,0,1,1],
			        [1,0,0,1,0,0,0,0,0,0,0,0,1],
			        [1,0,0,2,0,0,2,0,0,0,0,0,1],
			        [1,2,0,0,0,0,0,0,0,3,0,0,1],
			        [1,1,0,0,0,2,0,0,0,4,0,0,1],
			        [1,1,0,3,0,1,1,1,0,4,0,0,1]
			    ],
			    [
			        [1,1,1,2,0,0,0,0,0,1,1,1,1],
			        [1,1,1,0,0,0,0,0,0,1,1,0,1],
			        [1,1,0,2,0,0,0,6,0,4,4,0,1],
			        [1,1,0,1,0,0,0,1,0,4,4,0,1],
			        [1,0,0,4,0,0,0,1,0,0,0,0,1],
			        [1,0,0,4,0,2,0,1,2,0,5,4,1],
			        [1,0,0,4,0,1,0,0,0,1,1,1,1],
			        [1,0,0,0,0,2,4,0,0,4,0,0,1],
			        [1,0,2,0,0,0,1,2,0,1,0,0,1],
			        [1,0,1,2,0,0,0,0,0,2,0,0,0],
			        [1,0,2,0,2,1,0,0,0,0,0,0,0],
			        [1,4,0,0,0,1,0,2,0,0,0,0,2],
			        [1,1,0,1,0,4,0,1,0,0,2,1,1]
			    ],
			    
			    [
			        [1,2,4,4,2,1,1,1,1,4,0,2,1],
			        [1,0,4,4,0,4,1,1,0,4,0,0,1],
			        [1,0,5,6,0,4,0,1,0,0,0,0,1],
			        [1,1,1,1,1,0,0,2,0,0,0,0,1],
			        [1,0,0,4,0,0,0,0,0,0,0,0,1],
			        [1,0,0,4,0,0,0,0,0,0,0,0,1],
			        [1,0,2,0,0,0,0,3,0,0,2,0,1],
			        [1,0,0,0,0,0,0,1,0,0,1,0,1],
			        [1,0,2,0,0,0,0,4,0,0,2,0,1],
			        [1,1,1,0,0,2,0,0,0,0,0,0,1],
			        [1,0,0,0,0,1,0,0,0,0,0,0,1],
			        [1,0,2,0,0,4,0,0,2,0,0,0,1],
			        [1,0,1,2,0,4,0,0,1,0,0,3,1]
			    ],
			    [
			        [1,1,1,1,1,1,1,1,1,1,0,4,0],
			        [1,4,4,0,1,0,0,0,1,1,4,0,4],
			        [0,4,4,0,1,0,0,0,1,1,1,1,1],
			        [0,4,4,0,1,0,1,1,1,1,1,1,1],
			        [2,0,0,0,2,0,0,0,4,0,0,0,1],
			        [1,5,0,0,2,0,0,0,4,0,0,2,1],
			        [1,1,0,0,1,0,2,0,4,2,0,1,1],
			        [1,0,0,0,0,2,6,2,1,1,0,0,1],
			        [1,0,0,0,2,1,1,1,1,0,0,2,1],
			        [1,0,0,0,0,2,0,1,0,0,0,0,1],
			        [1,0,0,0,0,0,0,2,0,0,0,2,1],
			        [1,0,3,0,0,0,0,0,0,2,0,1,1],
			        [1,0,1,0,0,0,1,0,0,1,0,0,1]
			    ],
			    [
			        [1,1,1,1,1,1,1,1,1,1,1,1,1],
			        [1,0,1,1,0,1,1,0,0,4,0,1,1],
			        [1,0,4,4,0,4,2,0,0,0,0,0,1],
			        [1,0,4,4,0,4,0,6,0,0,0,2,1],
			        [1,0,0,0,0,0,0,1,2,0,0,1,1],
			        [1,4,5,0,0,2,0,0,0,0,0,4,1],
			        [1,1,1,1,0,0,0,2,0,2,0,4,1],
			        [1,0,2,4,0,0,0,1,2,0,0,1,1],
			        [1,0,0,0,0,0,0,4,0,0,0,2,1],
			        [1,1,0,0,0,2,0,0,0,0,0,0,1],
			        [0,1,2,2,0,0,0,0,2,3,0,0,1],
			        [0,1,1,1,0,0,0,0,1,4,0,0,1],
			        [0,0,0,1,0,0,0,1,1,4,0,0,1]
			    ],
			    [
			        [1,1,1,2,0,0,0,4,4,2,1,1,1],
			        [1,1,0,0,0,0,0,4,4,0,0,1,1],
			        [1,0,0,0,0,0,5,0,0,6,0,0,1],
			        [1,0,0,0,0,2,1,0,2,1,0,0,1],
			        [1,0,0,0,0,0,0,0,0,2,0,0,1],
			        [1,0,0,0,0,0,0,0,0,1,2,0,0],
			        [1,2,0,2,0,0,1,2,0,0,0,0,0],
			        [1,1,0,4,0,0,2,0,0,0,0,0,2],
			        [0,1,2,0,0,0,4,0,0,0,0,0,1],
			        [1,1,1,0,0,2,1,0,0,2,1,0,1],
			        [0,0,1,0,0,0,0,0,0,0,4,0,1],
			        [1,1,1,0,0,0,0,1,0,2,4,0,1],
			        [0,0,1,0,0,0,1,1,0,1,1,1,1]
			    ],
			    [
			        [0,0,0,0,0,1,0,1,1,1,1,1,1],
			        [1,0,0,0,0,1,0,1,1,0,4,4,1],
			        [1,0,0,0,0,4,0,0,2,0,4,4,1],
			        [2,0,0,2,0,0,0,0,0,0,0,0,1],
			        [0,0,0,0,0,6,0,0,0,4,0,5,1],
			        [2,0,0,0,0,1,0,0,0,1,1,1,1],
			        [1,3,0,2,0,1,0,2,0,1,0,0,1],
			        [1,1,2,1,0,1,0,0,0,4,0,0,1],
			        [1,0,0,4,0,1,0,0,0,0,0,0,1],
			        [1,0,1,1,1,1,0,0,2,0,0,0,1],
			        [1,0,0,2,4,0,0,2,1,0,0,0,1],
			        [1,0,4,0,4,0,0,1,1,0,1,1,1],
			        [1,0,1,0,1,0,0,1,0,0,1,0,1]
			    ],
			    
			    [
			        [1,1,1,1,1,1,1,1,1,1,1,1,1],
			        [1,0,0,0,1,0,2,0,0,6,0,0,1],
			        [1,0,1,0,4,0,0,0,1,1,1,0,1],
			        [1,0,1,1,1,0,0,4,1,0,0,0,1],
			        [1,0,0,0,1,0,2,1,1,0,0,0,1],
			        [1,0,1,0,1,2,0,1,1,0,2,0,1],
			        [1,2,1,0,0,0,0,0,1,0,2,0,1],
			        [1,0,2,0,0,0,0,2,1,0,1,0,1],
			        [1,0,4,0,0,1,2,1,1,0,1,3,1],
			        [1,2,1,0,0,1,0,1,0,0,1,1,1],
			        [1,0,2,0,0,2,0,1,0,0,0,4,4],
			        [1,0,0,0,0,6,0,1,0,5,0,4,4],
			        [1,1,0,0,0,1,0,1,0,1,0,0,0]
			    ],
			    [
			        [1,1,0,1,0,4,4,0,0,0,0,0,1],
			        [1,1,0,1,0,4,4,0,0,0,0,0,1],
			        [0,0,0,1,0,0,5,0,1,0,0,0,1],
			        [1,1,1,1,0,0,1,1,1,0,0,0,1],
			        [0,4,0,1,0,0,1,0,2,0,2,0,0],
			        [2,0,2,1,0,0,1,0,0,0,0,0,2],
			        [1,0,0,0,0,2,1,0,0,0,0,0,1],
			        [1,1,0,2,0,0,0,0,0,2,0,1,1],
			        [0,4,0,0,0,0,0,0,0,1,0,1,0],
			        [0,0,0,2,0,0,0,0,0,2,0,4,0],
			        [0,2,0,0,0,0,2,0,0,0,0,0,2],
			        [0,1,0,0,0,2,1,2,3,0,0,2,1],
			        [0,1,0,0,3,0,1,0,1,0,0,0,1]
			    ],
			    [
			        [0,2,0,2,0,1,1,1,1,0,4,4,0],
			        [0,0,0,0,0,0,1,0,0,0,4,4,0],
			        [1,0,0,2,1,0,2,0,5,0,0,0,2],
			        [1,0,2,0,1,0,0,0,1,0,0,0,1],
			        [1,0,0,0,1,0,0,0,1,0,0,2,1],
			        [1,0,0,0,1,0,2,0,1,0,1,1,1],
			        [1,0,0,0,1,0,0,0,1,0,0,4,2],
			        [0,2,2,0,2,0,2,0,1,0,0,1,0],
			        [1,1,1,0,0,0,0,0,2,0,0,1,0],
			        [1,0,2,0,0,3,0,0,0,0,0,4,0],
			        [1,1,1,0,0,1,0,0,0,0,0,0,0],
			        [1,0,0,0,0,0,2,0,0,0,0,0,0],
			        [1,0,0,0,0,0,1,0,0,0,1,0,0]
			    ],
			    [
			        [1,1,1,1,1,1,1,1,0,1,1,0,1],
			        [1,0,0,0,0,0,0,1,0,0,0,0,1],
			        [1,0,1,0,1,0,0,1,0,0,0,0,0],
			        [1,0,0,0,2,0,6,0,0,0,0,0,2],
			        [1,0,0,0,0,2,1,0,0,0,2,0,0],
			        [1,0,2,0,0,0,1,0,2,1,0,0,0],
			        [1,1,1,0,0,0,0,0,0,2,0,0,2],
			        [1,0,2,1,0,0,0,2,4,4,2,0,0],
			        [1,0,0,2,0,0,0,1,1,1,1,0,2],
			        [1,1,0,0,0,0,2,1,4,4,0,0,0],
			        [0,2,0,0,4,0,1,1,4,4,0,0,2],
			        [0,1,0,2,1,0,1,1,5,0,0,0,1],
			        [0,0,0,0,1,0,1,1,1,0,0,0,0]
			    ],
			    [
			        [1,2,0,0,0,0,0,0,0,0,0,0,1],
			        [1,0,0,0,0,0,0,0,0,0,0,0,1],
			        [1,0,0,0,0,2,0,0,2,0,2,0,1],
			        [2,0,1,1,2,0,0,0,0,0,2,0,1],
			        [1,0,0,0,0,0,3,0,0,0,1,0,1],
			        [1,2,1,0,0,0,1,0,0,0,1,1,1],
			        [1,0,1,0,2,0,1,2,0,2,1,1,1],
			        [1,0,1,2,0,0,1,0,2,0,4,1,1],
			        [1,0,0,0,0,0,1,0,0,0,4,4,1],
			        [1,0,0,0,0,0,1,0,0,0,4,4,1],
			        [1,0,1,2,2,2,1,0,2,0,0,0,1],
			        [1,0,0,0,0,0,0,0,1,0,5,0,1],
			        [1,0,1,1,1,1,1,1,1,0,1,1,1]
			    ],
			    
			    /** Bedroom **/
			    [
			        [0,0,0,0,0,0,0,0,0,0,0,0,0],
			        [0,0,0,0,0,0,0,0,0,0,0,0,0],
			        [0,0,0,0,0,0,0,0,0,0,0,0,0],
			        [0,0,0,0,0,0,0,0,0,0,0,0,0],
			        [1,1,1,1,1,1,1,1,1,1,1,1,1],
			        [1,1,0,4,0,1,1,1,1,4,0,1,1],
			        [1,0,0,4,0,0,1,0,0,4,0,0,1],
			        [1,0,0,4,0,0,4,0,0,0,0,0,1],
			        [1,0,0,0,0,0,4,0,0,0,0,0,1],
			        [1,0,0,0,0,0,4,0,0,0,0,0,1],
			        [1,0,0,4,4,0,4,0,6,6,6,0,1],
			        [1,1,1,1,1,1,1,1,1,1,1,1,1],
			        [1,1,1,0,1,1,0,1,1,0,1,1,1],
			    ],
			];
			var LevelData = [
			    /** Title Screen Level **/
			    [80,275,null,null],
			    
			    /** 1-10 **/
			    [80,305,null,null],
			    [320,305,50,330],
			    [200,275,95,150],
			    [50,65,null,null],
			    [35,335,null,null],
			    [320,335,95,265],
			    [320,335,305,105],
			    [200,215,null,null],
			    [200,335,null,null],
			    [95,335,295,305],
			    
			    /** Reflection **/
			    [50,245,null,null],
			    
			    /** 11-20 **/
			    [35,245,305,50],
			    [200,65,null,null],
			    [50,245,290,350],
			    [185,335,null,null],
			    [320,125,null,null],
			    
			    [50,335,185,185],
			    [35,185,310,310],
			    [65,-150,185,70],
			    [35,245,null,null],
			    [335,125,null,null],
			    
			    /** Bedroom **/
			    [50,305,null,null],
			    
			    /** B-Side 1-20 **/
			    [80,305,null,null],
			    [320,305,null,null],
			    [200,275,null,null],
			    [50,65,null,null],
			    [35,335,null,null],
			    
			    [320,335,null,null],
			    [320,335,null,null],
			    [200,215,null,null],
			    [200,335,null,null],
			    [95,335,null,null],
			    
			    [35,245,null,null],
			    [200,65,null,null],
			    [35,245,null,null],
			    [185,335,null,null],
			    [320,305,null,null],
			    
			    [35,335,null,null],
			    [35,185,null,null],
			    [65,-150,null,null],
			    [35,245,null,null],
			    [335,125,null,null],
			    
			    /** Bedroom **/
			    [50,305,null,null],
			    
			];
			
			var DialogueReflection = [
			    [0,"I don't think I can\nkeep going at this."],
			    [1,"Every day is the same..."],
			    [1,"I come here, and never\nactually learn anything.."],
			    [2,"Fed with horrible processed\nfood, with my legs all\ncrunched up..."],
			    [1,"What's the 'point' of\nbeing here anymore?"],
			    [0,"..."],
			    [1,"I should just try to call out..."],
			    [3,"But it just feels\nlike I'm just shouting\ninto the darkness."],
			    [0,"There's no one there."],
			    [1,"And even if there was..."],
			    [1,"No one would hear me,\nAs if anyone would\nof wanted to..."],
			    [4,"No one want's to hear my\ndisgusting vocal-chords."],
			    [4,"I don't think I can\neven stand myself."],
			    [5,"WHY am I even like this?!"],
			    [5,"WHY can't I just be a\nnormal person for once?!"],
			    [6,"I keep going back..."],
			    [5,"And every time, some little,\nSTUPID tiny thing..."],
			    [5,"I would be completly FINE if\nNONE of that garbage happened!"],
			    [6,"I can't win."],
			    [6,"There is just NOTHING\nI can do anymore..."],
			    [5,"ALL that I am is some stupid\nmutt, who can't get up and do\n ANYTHING for himself!"],
			    [7,"..."],
			    [1,"I need to shut up."],
			    [1,"No one cares."],
			    [1,"There's NO ONE who WOULD care."],
			    [2,"..."],
			    [1,"At least none of\nthis can get worse..."],
			    [0,"I should be happy about\nthat, I guess..."]
			];
			var DialogueBedroom = [
			    [7,"..."],
			    [1,"I think I'm getting that\nuneasy fuzzy feeling, again..."],
			    [0,"I wish it would go away..."],
			    [3,"But it's just, part of me now."],
			    [2,"..."],
			    [2,"What's this?"],
			    [2,"How did this, get here?.."],
			    [7,"Well..."],
			    [1,"I guess I can make, one more..."],
			    [2,"Hopefully, it goes well..."]
			];
			var DialogueBedroomB = [
			    [7,"..."],
			    [1,"Every day is getting\nharder than the last..."],
			    [0,"I sometimes, just want a break."],
			    [3,"I'm not sure if thats,\nwhat I need though."],
			    [2,"..."],
			    [2,"Alright, let's see\nwhat they said..."],
			    [0,"..."],
			    [7,"Oh."],
			    [1,"Guess I watsed\nmy time, again."],
			    [2,"I shouldn't even\nbother anymore..."],
			    [7,"At this rate, trying to\ndo anything with\nthese guys is just,pointless."],
			];
			
			/** Vars **/
			var keys = []; for (var k=0;k<127;k++) {keys[k]=0;}
			var space = 0;
			var mouse = 0;
			
			var TileBuffer;
			var Player = {x:0,y:0,s:30,vx:0,vy:0,dir:1,ground:0,wallSlide:0,wallContinue:0,control:0,show:0};
			var PlayerCycleTime = 0;
			var cutscene22Spr = 73;
			var cutscene22SprTime = 0;
			
			var Level = LevelCodes[0];
			var level = 0;
			var end = {x:0,y:0};
			
			var springActs = [];
			
			var Pizza = {};
			var gotPizza;
			var pizzasTotal = 0;
			var allPizzas = [10,0];
			
			var cutscene = 0;
			
			var levelEdit = 0;
			var levelEditBrush = 0;
			
			var spell = 0;
			var spellKeys = [76,79,78,69];
			var BSide = 0;
			
			// Curtain
			var MENU = -1; // 0=pretitle 1=title 2=gameplay
			var curtainAlpha = 0;
			var curtainSpeed = 0;
			var curtainOn = 0;
			var curtainMenu = 0;
			
			// Dialogues
			var dialogueSlide=0;
			var dialogueL = 0;
			var dialogueT = 0;
			var dialogueF = 0;
			
			// Timers
			var timerEntrance = 0;
			var timerFail = 0;
			var timerWin = 0;
			var timerCool = 0;
			var timerTitle = 0;
			var timerStart = 0;
			
			var timerLvl11 = 0;
			var timerLvl22 = 0;
			
			/** ETC Functions **/
			var curtainTo = function(menu,speed) {
			    curtainMenu = menu;
			    curtainSpeed = speed;
			    curtainOn = 1;
			};
			
			/** Drawing Functions **/
			var drawTitle = function(x,y,sca,rot) {
			    pushMatrix();   
			        translate(x,y);
			        rotate(rot);
			        scale(sca);
			        
			        // Not dealing with spacing issues :P
			        var txt = "𝕷𝖔𝖓𝖊";
			        
			        textFont(FontTitle);
			        fill(PAL[1]);
			        text(txt,-4,3);
			        fill(PAL[2]);
			        text(txt,-2,1);
			        fill(PAL[3]);
			        text(txt,0,0);
			        
			        
			    popMatrix();
			};
			
			/** Game Functions **/
			var initSpr = function(index) {
			    background(0, 0);
			    noStroke();
			    for (var j=0; j<10; j++) {
			        for (var i=0; i<10; i++) {
			            var blk=SPR_SHEET[index][i+j*10];
			            fill(PAL[blk]);
			            if (blk>0) {rect(0+i*5,0+j*5,5,5);}
			        }
			    }
			    return get(0, 0, 50, 50);
			};
			var initSprites = function() {
			    for (var i = 0; i < SPR_SHEET.length; i ++) {
			        PAL = PalSides[0];
			        SPR_IMAGES[i] = initSpr(i);
			        PAL = PalSides[1];
			        SPR_IMAGES[SPR_SHEET.length + i] = initSpr(i);
			    }
			    PAL = PalSides[0];
			};
			var drawSpr = function(x,y,index,sca,gho) {
			    // tint(255, 255, 255, gho);
			    try {
			        if (BSide) {
			            image(SPR_IMAGES[SPR_SHEET.length + index], x, y, sca*10, sca*10);
			        } else {
			            image(SPR_IMAGES[index], x, y, sca*10, sca*10);
			        }
			    } catch(e) {
			        // println(e);
			    }
			    // noTint();
			};
			var pointToGrid = function(px,py) {
			    if (px<5||px>395||py<5||py>395) {return 0;}
			    var x = floor((px-5)/30);
			    var y = floor((py-5)/30);
			    
			    return Level[y][x];
			};
			var pointToGridCords = function(px,py) {
			    if (px<5||px>395||py<5||py>395) {return 0;}
			    var x = floor((px-5)/30);
			    var y = floor((py-5)/30);
			    
			    return [y,x];
			};
			var pointToTileBuffer = function(px,py) {
			    if (px<5||px>395||py<5||py>395) {return 0;}
			    var x = floor((px-5)/30);
			    var y = floor((py-5)/30);
			    
			    return TileBuffer[y][x];
			};
			var playerTouchingTiles = function(g) {
			    return pointToGrid(Player.x+6,Player.y+30-Gravity)===g||
			            pointToGrid(Player.x+23,Player.y+30-Gravity)===g||
			            pointToGrid(Player.x+6,Player.y+6-Gravity)===g||
			            pointToGrid(Player.x+23,Player.y+6-Gravity)===g;
			};
			var playerTouchingTilesToBuffer = function(g) {
			    if (pointToGrid(Player.x+6,Player.y+30-Gravity)===g) {
			        return pointToTileBuffer(Player.x+6,Player.y+30-Gravity);} else
			    if (pointToGrid(Player.x+23,Player.y+30-Gravity)===g) {
			        return pointToTileBuffer(Player.x+23,Player.y+30-Gravity);} else
			    if (pointToGrid(Player.x+6,Player.y+6-Gravity)===g) {
			        return pointToTileBuffer(Player.x+6,Player.y+6-Gravity);} else
			    if (pointToGrid(Player.x+23,Player.y+6-Gravity)===g) {
			        return pointToTileBuffer(Player.x+23,Player.y+6-Gravity);}
			    return 0;
			};
			var playerTouchingTilesToCords = function(g) {
			    if (pointToGrid(Player.x+6,Player.y+30-Gravity)===g) {
			        return pointToGridCords(Player.x+6,Player.y+30-Gravity);} else
			    if (pointToGrid(Player.x+23,Player.y+30-Gravity)===g) {
			        return pointToGridCords(Player.x+23,Player.y+30-Gravity);} else
			    if (pointToGrid(Player.x+6,Player.y+6-Gravity)===g) {
			        return pointToGridCords(Player.x+6,Player.y+6-Gravity);} else
			    if (pointToGrid(Player.x+23,Player.y+6-Gravity)===g) {
			        return pointToGridCords(Player.x+23,Player.y+6-Gravity);}
			    return 0;
			};
			var boxToBox = function(a,b,c,d,e,f,g,h) {
			    return a+c>e&&a<e+g&&b+d>f&&b<f+h;
			};
			
			/** Player Functions **/
			var playerFail = function() {
			    timerFail=1; Player.control=0; Player.vy=-6;
			};
			var playerPhysics = function() {
			    // Y Vel
			    Player.vy+=Gravity;
			    if (Player.wallSlide) {
			        Player.vy=constrain(Player.vy,-99,1);
			        if (keys[87]&&!cutscene) {
			            Player.vy=-6; Player.vx = Player.dir*-3;
			            Player.wallSlide = 0;
			            Player.wallContinue = 15;
			        }
			    }
			    Player.vy=constrain(Player.vy,-99,6);
			    Player.y+=Player.vy;
			    if (playerTouchingTiles(1)) {
			        while (playerTouchingTiles(1)) {
			            Player.y-=(Player.vy/abs(Player.vy))*Gravity;
			        }
			        if (keys[87]&&Player.vy>0&&!cutscene) {Player.vy=-8;}
			        else {Player.vy = 0; Player.ground = 1;}
			    } else {
			        Player.ground = 0;
			    }
			    
			    // X Vel
			    if (Player.wallContinue>0) {
			        Player.wallContinue--;
			        //println(Player.wallContinue);
			        Player.vx=Player.dir*3;
			    } else {
			        if (keys[68]-keys[65]!==0) {
			            var vel = (keys[68]-keys[65])*0.4;
			            Player.vx=constrain(Player.vx+vel,-3,3);
			            
			            Player.dir = (keys[68]-keys[65]);
			            if (Player.wallSlide) {
			                Player.vx = (keys[68]-keys[65]);
			                Player.dir = (keys[65]-keys[68]);
			            }
			        } else {
			            Player.vx*=Friction;
			            if (round(Player.vx)===0) {Player.vx = round(Player.vx);}
			        }
			    }
			    Player.x+=round(Player.vx);
			    if (playerTouchingTiles(1)) {
			        while (playerTouchingTiles(1)) {
			            Player.x-=(Player.vx/abs(Player.vx))*1;
			        }
			        Player.wallSlide = (!Player.ground)&&(keys[68]-keys[65]!==0);
			        if (Player.wallSlide) {
			            Player.wallContinue=0;
			            if ((-Player.vx/abs(Player.vx))!==0) {Player.dir=-Player.vx/abs(Player.vx);}
			        }
			        Player.vx=0;
			    } else {
			        Player.wallSlide = 0;
			    }
			    if (Player.ground) {Player.wallSlide = 0;}
			};
			var playerTick = function() {
			    playerPhysics();
			    
			    // Spikes
			    if (playerTouchingTiles(2)) {
			        // There are 5 cases.
			        var Case = playerTouchingTilesToBuffer(2);
			        
			        // Floating
			        if (Case===46) {
			            playerFail();
			        }
			        // On Ground
			        if (Case===44) {
			            Player.y-=15;
			            if (playerTouchingTiles(2)) {
			                playerFail();
			            } Player.y+=15;
			        }
			        // On Ceiling
			        if (Case===48) {
			            Player.y+=15;
			            if (playerTouchingTiles(2)) {
			                playerFail();
			            } Player.y-=15;
			        }
			        // Left Side
			        if (Case===45) {
			            Player.x-=15;
			            if (playerTouchingTiles(2)) {
			                playerFail();
			            }
			            Player.x+=15;
			        }
			        // Right Side
			        if (Case===47) {
			            Player.x+=15;
			            if (playerTouchingTiles(2)) {
			                playerFail();
			            }
			            Player.x-=15;
			        }
			    }
			    
			    // Springs
			    if (playerTouchingTiles(3)) {
			        Player.y-=15;
			        if (playerTouchingTiles(3)) {
			            Player.vy=-10;
			            var spr = playerTouchingTilesToCords(3);
			            for (var i=0; i<springActs.length; i++) {
			                if (springActs[i][0].includes(spr[0])&&springActs[i][0].includes(spr[1])) {springActs[i][1]=10;}
			            }
			        } Player.y+=15; 
			    }
			    
			    // Vent
			    if (playerTouchingTiles(5)) {
			        timerWin=1; Player.control=0; Player.vy=-6;
			        if (gotPizza) {pizzasTotal++;}
			    }
			    
			    // Pizza
			    if (!gotPizza&&boxToBox(Player.x,Player.y,30,30,LevelData[level][2]-10,LevelData[level][3]-10,25,25)) {
			        gotPizza = 1; timerCool=1;
			    }
			    
			    // Fail via falling
			    if (Player.y>380) {playerFail();}
			    
			    // Cutscene
			    if (level===11&&playerTouchingTiles(6)&&cutscene!==2) {
			        cutscene=2; Player.control=0; timerLvl11=1;
			    }
			    if ((level===22||level===43)&&playerTouchingTiles(6)&&cutscene!==2) {
			        cutscene=2; Player.control=0; timerLvl22=1;
			    }
			};
			var playerFall = function() {
			    // Y Vel
			    Player.vy+=Gravity;
			    Player.vy=constrain(Player.vy,-99,6);
			    Player.y+=Player.vy;
			    
			    if (playerTouchingTiles(1)) {
			        while (playerTouchingTiles(1)) {
			            Player.y-=(Player.vy/abs(Player.vy))*Gravity;
			        }
			        Player.vy=0;
			        Player.ground = 1;
			    } else {
			        Player.ground = 0;
			    }
			    Player.vx = 0;
			};
			var pickPlayerSpr = function() {
			    if (timerFail>0) {return 10;}
			    if (Player.wallSlide) {
			        PlayerCycleTime=0;
			        return 9;
			    } else if (Player.ground) {
			        if (Player.control&&(keys[68]-keys[65]!==0)) {
			            PlayerCycleTime+=0.2;
			            return PlayerCycle[(floor(PlayerCycleTime)+1)%4];
			        } else {
			            PlayerCycleTime=0;
			            return 0;
			        }
			    } else {
			        PlayerCycleTime=0;
			        if (Player.vy>2) {return 8;}
			        else if (Player.vy>0) {return 7;}
			        else if (Player.vy<-2) {return 6;}
			        else {return 5;}
			    }
			    
			    return 0;
			};
			
			/** Tile Functions **/
			var findMatrix;
			var drawTiles = function() {
			    background(PAL[4]);
			    for (var j=0;j<13;j++) {
			        for (var i=0;i<13;i++) {
			            if (Level[j][i]===1) {
			                drawSpr(5+i*30,5+j*30,TileBuffer[j][i],3);
			            }
			        }
			    }
			};
			var drawNonTiles = function() {
			    noFill(); stroke(PAL[4]); strokeWeight(10);
			    rectMode(CENTER);
			    rect(200,200,400,400);
			    rectMode(CORNER);
			    
			    noStroke();
			    var s = 0;
			    for (var j=0;j<13;j++) {
			        for (var i=0;i<13;i++) {
			            if (Level[j][i]===0) {
			                fill(PAL[4]);
			                rect(5+i*30,5+j*30,30,30);
			            }
			            if (Level[j][i]===2) {
			                drawSpr(5+i*30,5+j*30,findMatrix(SpikeMatrix,i,j,[0,1,2]),3);
			            }
			            if (Level[j][i]===3) {
			                springActs[s][1]--;
			                var x = 52+(springActs[s][1]>0);
			                drawSpr(5+i*30,5+j*30,x,3);
			                s++;
			            }
			            if (Level[j][i]===4) {
			                if ((i-1)%2) {
			                drawSpr(5+i*30,5+j*30,findMatrix(Decor1Matrix,i,j,[0,1,4]),3);
			                } else {
			                    drawSpr(5+i*30,5+j*30,findMatrix(Decor2Matrix,i,j,[0,1,4]),3);
			                }
			            }
			            if (Level[j][i]===5) {
			                drawSpr(5+i*30,5+j*30,51,3);
			            }
			            if (Level[j][i]===6) {
			                drawSpr(5+i*30,5+j*30,findMatrix(Decor3Matrix,i,j,[0,1,4,6]),3);
			            }
			        }
			    }
			};
			
			/** Level Functions **/
			findMatrix = function(MAT,x,y,cares) {
			    var block = "";
			    for (var j=-1; j<2; j++) {
			        for (var i=-1; i<2; i++) {
			            if (x+i<0||x+i>12||y+j<0||y+j>12) {
			                block = block+1;
			            } else {
			                if (cares.includes(Level[y+j][x+i])) {block = block+(Level[y+j][x+i]);}
			                else {block = block+0;}
			                
			            }
			        }
			    }
			    for (var i=0; i<MAT.length; i++) {
			        var t = "";
			        var mat = MAT[i][0];
			        for (var x=0; x<9; x++) {
			            if (mat[x]==="q") {
			                t=t+block[x];
			            } else {
			                t=t+mat[x];
			            }
			        }
			        if (block===t) {
			            return MAT[i][1];
			        }
			    }
			    return 12;
			};
			var newLevel = function() {
			    Level = [];
			    for (var j=0; j<13; j++) {
			        var t = [];
			        for (var i=0; i<13; i++) {
			            t.push(0);
			        }
			        Level.push(t);
			    }
			};
			var loadLevel = function() {
			    if (level===11||level===22||level===43) {cutscene=1;}
			    else {cutscene=0;}
			    timerLvl11=0; timerLvl22=0; cutscene22Spr=73; cutscene22SprTime=0;
			    
			    Player.x=LevelData[level][0]; Player.y=LevelData[level][1];
			    Player.wallSlide=0; Player.wallContinue=0;
			    timerEntrance=1; Player.vy=-5; Player.dir=1;
			    Player.show=1; timerFail=0; timerWin=0;
			    
			    springActs = [];
			    gotPizza=0; timerCool=0;
			    
			    dialogueSlide=0;
			    dialogueL = 0;
			    dialogueT = 0;
			    dialogueF = 0;
			    
			    // Current level to lavel database
			    Level = LevelCodes[level];
			    
			    // Renew the TileBuffer
			    TileBuffer = [];
			    for (var j=0; j<13; j++) {
			        var t = [];
			        for (var i=0; i<13; i++) {
			            t.push(0);
			        }
			        TileBuffer.push(t);
			    }
			    
			    // Make the TileBuffer
			    for (var j=0;j<13;j++) {
			        for (var i=0;i<13;i++) {
			            if (Level[j][i]===1) {
			                TileBuffer[j][i] = findMatrix(TileMatrix,i,j,[0,1]);
			            }
			            if (Level[j][i]===2) {
			                TileBuffer[j][i] = findMatrix(SpikeMatrix,i,j,[0,1,2]);
			            }
			            if (Level[j][i]===3) {
			                springActs.push([[j,i],0]);
			            }
			            if (Level[j][i]===5) {
			                end = {x:i*30+5,y:j*30+5};
			            }
			        }
			    }
			    
			    drawTiles();
			};
			var quickReset = function() {
			    loadLevel();
			};
			var printlnLevel = function() {
			    for (var i=0; i<13; i++) {
			        println("["+Level[i]+"],");
			    }
			};
			
			/** Dialogue Functions **/
			var DiaExp0 = function() {
			    fill(PAL[4]);
			    noStroke();
			    rect(0,0,400,400);
			    
			    fill(PAL[1]);
			    rect(100,300,200,100);
			    
			    fill(PAL[3]);
			    ellipse(200,200,300,300);
			    ellipse(220,350,50,50);
			    
			    fill(PAL[2]);
			    rect(100,260,240,70,30);
			    rect(100,260,200,90,30);
			    rect(205,240,60,35,30);
			    
			    fill(PAL[4]);
			    rect(190,210+5,10,40,100);
			    rect(260,210+5,10,40,100);
			    
			    stroke(PAL[4]); strokeWeight(8);
			    line(170,212+5,205,210+5);
			    line(260,210+5,285,212+5);
			    
			    noStroke(); fill(PAL[1]);
			    ellipse(210,110,320,130);
			    
			    ellipse(150,170,80,80);
			    
			    ellipse(95,220,110,300);
			    ellipse(340,190,85,200);
			};
			var DiaExp1 = function(){
			    fill(PAL[4]);
			    noStroke();
			    rect(0,0,400,400);
			    
			    fill(PAL[1]);
			    rect(100,300,200,100);
			    
			    fill(PAL[3]);
			    ellipse(200,200,300,300);
			    ellipse(220,350,50,50);
			    
			    fill(PAL[2]);
			    rect(100,260,240,70,30);
			    rect(100,260,200,90,30);
			    rect(205,240,60,35,30);
			    
			    fill(PAL[4]);
			    rect(180,210+5,10,40,100);
			    rect(260,210+5,10,40,100);
			    
			    stroke(PAL[4]); strokeWeight(8);
			    line(180,210+5,205,212+5);
			    line(260,210+5,285,212+5);
			    
			    noStroke(); fill(PAL[1]);
			    ellipse(210,110,320,130);
			    
			    ellipse(150,170,80,80);
			    
			    ellipse(95,220,110,300);
			    ellipse(340,190,85,200);
			    
			    fill(PAL[3]); stroke(PAL[4]); strokeWeight(8);
			    ellipse(75,195+110,60,70);
			    ellipse(105,195+110,90,90);
			    fill(PAL[1]);
			    rect(65,330,70,70);
			};
			var DiaExp2 = function(){
			    fill(PAL[4]);
			    noStroke();
			    rect(0,0,400,400);
			    
			    fill(PAL[1]);
			    rect(100,300,200,100);
			    
			    fill(PAL[3]);
			    ellipse(200,200,300,300);
			    ellipse(220,350,50,50);
			    
			    fill(PAL[2]);
			    rect(100,260+20,240,70,30);
			    //rect(100,260+20,200,90,30);
			    rect(205,240+20,60,35,30);
			    
			    fill(PAL[4]);
			    rect(190,230,10,40,100);
			    rect(260,230,10,40,100);
			    
			    stroke(PAL[4]); strokeWeight(8);
			    line(170,211+15,205,210+15);
			    line(260,210+15,285,211+15);
			    
			    noStroke(); fill(PAL[1]);
			    ellipse(210,110+10,320,130+20);
			    
			    ellipse(150,170+10,80,80+20);
			    
			    ellipse(95,220+10,110,290);
			    ellipse(340,190+10,85,200+20);
			};
			var DiaExp3 = function(){
			    fill(PAL[4]);
			    noStroke();
			    rect(0,0,400,400);
			    
			    fill(PAL[1]);
			    rect(100,300,200,100);
			    
			    fill(PAL[3]);
			    ellipse(200,200,300,300);
			    ellipse(220,350,50,50);
			    
			    fill(PAL[2]);
			    rect(100,260+20,240,70,30);
			    //rect(100,260+20,200,90,30);
			    rect(205,240+20,60,35,30);
			    
			    stroke(PAL[4]); strokeWeight(9);
			    line(170,209+40,205,210+40);
			    line(260,210+40,285,209+40);
			    
			    noStroke(); fill(PAL[1]);
			    ellipse(210,110+10,320,130+20);
			    
			    ellipse(150,170+10,80,80+20);
			    
			    ellipse(95,220+10,110,290);
			    ellipse(340,190+10,85,200+20);
			};
			var DiaExp4 = function(){
			    fill(PAL[4]);
			    noStroke();
			    rect(0,0,400,400);
			    
			    fill(PAL[1]);
			    rect(100,300,200,100);
			    
			    fill(PAL[3]);
			    ellipse(200,200,300,300);
			    ellipse(220,350,50,50);
			    
			    fill(PAL[2]);
			    rect(100,260,240,70,30);
			    rect(100,260,200,90,30);
			    rect(205,240,60,35,30);
			    
			    fill(PAL[4]);
			    rect(190,210+5,10,40,100);
			    rect(260,210+5,10,40,100);
			    
			    stroke(PAL[4]); strokeWeight(8);
			    line(170,207+5,205,211+5);
			    line(260,211+5,285,207+5);
			    
			    noStroke(); fill(PAL[1]);
			    ellipse(210,110,320,130);
			    
			    ellipse(150,170,80,80);
			    
			    ellipse(95,220,110,300);
			    ellipse(340,190,85,200);
			};
			var DiaExp5 = function(){
			    fill(PAL[4]);
			    noStroke();
			    rect(0,0,400,400);
			    
			    fill(PAL[3]); stroke(PAL[4]); strokeWeight(8);
			    ellipse(75+210,195+10,60,70);
			    ellipse(105+210,195+10,90,90);
			    fill(PAL[1]);
			    rect(65+210,230,70,170);
			    
			    fill(PAL[1]);
			    rect(100,300,200,100);
			    
			    noStroke();
			    fill(PAL[4]);
			    ellipse(200,200,300,300);
			    fill(PAL[3]);
			    ellipse(220,350,50,50);
			    
			    fill(PAL[2]);
			    rect(100,260+30,240,60,30);
			    //rect(100,260+20,200,90,30);
			    rect(205,240+30,60,35,30);
			    
			    noStroke(); fill(PAL[1]);
			    ellipse(210,110+20,320,130+40);
			    
			    ellipse(150,170+20,80,80+40);
			    
			    ellipse(95,220+20,110,290);
			    ellipse(340,190+20,85,200+40);
			    
			    fill(PAL[3]); stroke(PAL[4]); strokeWeight(8);
			    ellipse(75+30,195+10,60,70);
			    ellipse(105+30,195+10,90,90);
			    fill(PAL[1]);
			    rect(65+30,230,70,170);
			};
			var DiaExp6 = function(){
			    fill(PAL[4]);
			    noStroke();
			    rect(0,0,400,400);
			    
			    fill(PAL[1]);
			    rect(100,300,200,100);
			    
			    fill(PAL[4]);
			    ellipse(200,200,300,300);
			    fill(PAL[3]);
			    ellipse(220,350,50,50);
			    
			    fill(PAL[2]);
			    rect(100,260+30,240,60,30);
			    //rect(100,260+20,200,90,30);
			    rect(205,240+30,60,35,30);
			    
			    noStroke(); fill(PAL[1]);
			    ellipse(210,110+20,320,130+40);
			    
			    ellipse(150,170+20,80,80+40);
			    
			    ellipse(95,220+20,110,290);
			    ellipse(340,190+20,85,200+40);
			};
			var DiaExps = [DiaExp0,DiaExp1,DiaExp2,DiaExp3,DiaExp4,DiaExp5,DiaExp5,DiaExp6];
			var DiaExpsPxl = [66,67,68,68,66,69,69,68];
			var drawDiaExp = function(id) {
			    pushMatrix();
			    translate(23,20);
			    scale(3/16);
			    DiaExps[id]();
			    popMatrix();
			};
			
			/** Setup **/
			if (BSide) {PAL = PalSides[1];}
			if (MENU===2) {
			    newLevel();
			    loadLevel();
			} else if (MENU===1) {
			    loadLevel(); drawNonTiles();
			} else if (MENU===-1) {
			    curtainTo(0,5);
			}
			
			initSprites();
			
			/** Draw Loop **/
			draw = function() {
			    
			    /** INPUT **/
			    if (!mouse && mouseIsPressed) {mouse=1;}
			    else if (mouse===1 && mouseIsPressed) {mouse=2;}
			    if (!mouseIsPressed) {mouse=0;}
			    
			    if (!space && keys[32]) {space=1;}
			    else if (space===1 && keys[32]) {space=2;}
			    if (!keys[32]) {space=0;}
			    
			    pushMatrix();
			    scale(1.5);
			    translate(0.3,0.3);
			    
			    /** MENUS **/
			    if (MENU===-1) {background(PAL[4]);}
			    if (MENU===0) {
			        level = 0; loadLevel();
			        
			        background(PAL[4]);
			        
			        rectMode(CENTER);
			            noFill(); strokeWeight(8);
			            stroke(PAL[1]); 
			            rect(200,200,170,150,10);
			            stroke(PAL[2]);
			            rect(200,200,160,140,10);
			        rectMode(CORNER);
			        
			        for (var j=0; j<3; j++) {for (var i=0; i<3; i++) {
			            drawSpr(141+(i*40),140+(j*40),80+i+(j*3),4);
			        }}
			        
			        timerTitle++;
			        if (timerTitle===150) {curtainTo(1,5);}
			        
			    } else {timerTitle=0;}
			    if (MENU===1) {
			        if (spell>3) {
			            BSide = 1;
			        } else if (!timerStart) {
			            if (keys[spellKeys[spell]]) {spell++;}
			            if (spell>3) {
			                PAL = PalSides[1];
			                BSide = 1;
			                drawTiles(); drawNonTiles();
			            }
			        }
			        
			        if (curtainOn) {drawTiles();}
			        drawNonTiles();
			        
			        // Draw Chars and Vent
			        drawSpr(170,275,89,3);
			        drawSpr(255,275,90,3);
			        drawSpr(300,275,91,3);
			        
			        if (timerStart>79) {drawSpr(35,275,51,3);}
			        else if (timerStart>74) {drawSpr(35,275,50,3);}
			        else if (timerStart>54) {drawSpr(35,275,49,3);}
			        else if (timerStart>49) {drawSpr(35,275,50,3);}
			        else {drawSpr(35,275,51,3);}
			        
			        if (Player.show) {pushMatrix();
			        translate(Player.x+15,Player.y);
			        scale(Player.dir,1);
			        drawSpr(-15,0,pickPlayerSpr(),3);
			        popMatrix();}
			        
			        // Draw Title
			        fill(PAL[4]);
			        rect(0,0,400,130);
			        
			        noStroke();
			        fill(PAL[3]);
			        for (var i=0; i<400; i++) {
			            ellipse(i,60+(sin((i+(millis()*0.01))*20)*5),2,2);
			        }
			        
			        fill(PAL[4]); rect(115,15,170,75);
			        drawTitle(200,50,3);
			        
			        if (BSide) {
			            textFont(createFont("Arial Italics",30));
			            fill(PAL[2]);
			            var x = "𝔹 𝕊𝕚𝕕𝕖";
			            text(x,220,20);
			        }
			        
			        textFont(FontMain,12);
			        fill(PAL[2]);
			        text("A Pixelated Game by Bored Guy",200,100);
			        fill(PAL[3]);
			        if (timerStart%10<4) {text("[Press Space]",200,120);}
			        
			        if (timerStart===0) {
			            Player.ground=1;
			            if (space===1&&!curtainOn) {timerStart=1;}
			        } else {
			            timerStart++;
			            if (timerStart>49) {
			                if (timerStart===50) {Player.vy=-5; Player.dir=-1; Player.ground=0;}
			                if (Player.ground) {Player.show=0;} else {
			                    playerFall();
			                    Player.x-=1.7;
			                }
			                if (timerStart===100) {curtainTo(2,5);}
			            }
			        }
			        
			    } else {timerStart=0;}
			    if (MENU===2) {
			    
			    /** Update **/
			    if (Player.control) {playerTick();}
			    
			    // Timers
			    if (timerEntrance>0) {
			        timerEntrance++;
			        Player.control=0;
			        playerFall();
			        if (timerEntrance>49) {timerEntrance=0; Player.control=1; drawTiles();}
			    }
			    if (timerFail>0) {
			        timerFail++;
			        if (timerFail<18) {playerFall();}
			        if (timerFail===18) {Player.show=0;}
			        if (timerFail>44) {loadLevel();}
			    }
			    if (timerWin>0) {
			        if (timerWin===1) {Player.x = end.x; Player.y = end.y;}
			        timerWin++;
			        playerFall();
			        if (timerWin>29) {Player.show=0;}
			        if (timerWin>49) {level++; loadLevel();}
			    }
			    
			    // Cutscene Timers
			    if (timerLvl11>0) {
			        timerLvl11++;
			        if (timerLvl11===40) {Player.vy=-4;}
			        if (timerLvl11>39&&timerLvl11<58) {playerFall(); Player.x+=1.2;}
			        if (timerLvl11>58) {Player.show=0;}
			        if (timerLvl11===301) {timerLvl11=300;}
			        
			        if (timerLvl11>519) {
			            Player.show=1;
			            Player.control=1;
			            timerLvl11=0;
			        }
			        
			    }
			    if (timerLvl22>0) {
			        timerLvl22++;
			        
			        if (timerLvl22===50) {Player.vy=-5;}
			        if (timerLvl22>49&&timerLvl22<70) {playerFall(); Player.x+=1.4;}
			        if (timerLvl22>70) {Player.show=0;}
			        
			        if (timerLvl22===301) {timerLvl22=300;}
			    }
			    if (cutscene22SprTime>0) {
			        cutscene22SprTime++;
			        cutscene22Spr=constrain(75+floor((cutscene22SprTime-1)/7),75,78);
			    }
			    
			    /** Draw **/
			    //drawTiles();
			    drawNonTiles();
			    
			    // Draw Vents
			    if (timerEntrance>0) {
			        if (timerEntrance<10) {drawSpr(LevelData[level][0],LevelData[level][1],49,3);} else
			        if(timerEntrance<15) {drawSpr(LevelData[level][0],LevelData[level][1],50,3);} else
			        if(timerEntrance<20) {drawSpr(LevelData[level][0],LevelData[level][1],51,3);}
			    }
			    if (timerWin>0) {
			        if (timerWin<30) {drawSpr(end.x,end.y,49,3);} else
			        if (timerWin<35) {drawSpr(end.x,end.y,50,3);} else
			        {drawSpr(end.x,end.y,51,3);}
			    }
			    
			    // Draw Pizza
			    if (!gotPizza&&LevelData[level][2]!==null) {
			        drawSpr(LevelData[level][2],(sin(millis()/3)*2)+LevelData[level][3],63,3);
			    }
			    
			    // Draw COOL!
			    if (timerCool>0) {
			        timerCool++;
			        fill(PAL[3]);
			        textFont(FontLvl,15); noStroke();
			        if (timerCool%10>5) {fill(PAL[3],255-timerCool*5);}
			        else {fill(PAL[1],255-timerCool*5);}
			        text("COOL!",LevelData[level][2]+15,LevelData[level][3]-timerCool/2);
			        if (255-timerCool*5<1) {timerCool=0;}
			    }
			    
			    // Draw Player
			    if (Player.show) {pushMatrix();
			        translate(Player.x+15,Player.y);
			        scale(Player.dir,1);
			        drawSpr(-15,0,pickPlayerSpr(),3);
			    popMatrix();}
			    else {
			        if (timerLvl11>58) {
			            drawSpr(185,245,DiaExpsPxl[DialogueReflection[dialogueSlide][0]],3);
			        }
			    }
			    
			    // Fail Particles
			    if (timerFail>17) {
			        var x = timerFail-18;
			        var y = x/2.5;
			        
			        noStroke();
			        fill(PAL[3],255-x*13);
			        ellipse(Player.x+15-y,Player.y+20-y,5,5);
			        ellipse(Player.x+15+y,Player.y+20+y,5,5);
			        fill(PAL[1],255-x*13);
			        ellipse(Player.x+15+y,Player.y+20-y,5,5);
			        fill(PAL[2],255-x*13);
			        ellipse(Player.x+15-y,Player.y+20+y,5,5);
			    }
			    
			    // Level Card
			    if (timerEntrance>0) {
			        fill(PAL[4]); stroke(PAL[3]); strokeWeight(3);
			        
			        rectMode(CENTER);
			        rect(200,200,130,50);
			        if (level===0) {rect(200,200,210,60);}
			        rectMode(CORNER);
			        
			        textFont(FontLvl); fill(PAL[3]); noStroke();
			        if (level===0) {
			            text("You shouln't\nbe here silly :3",200,200);
			        } else if (level<11) {
			            text("Stage "+level,200,200);
			        } else if (level===11) {
			            text("Reflection",200,200);
			        } else if (level<22) {
			            text("Stage "+(level-1),200,200);
			        } else if (level===22||level===43) {
			            text("Bedroom",200,200);
			        } else if (level<43) {
			            text("B-"+(level-22),200,200);
			        }
			        
			    }
			    
			    // Dialouge
			    if (BSide) {DialogueBedroom=DialogueBedroomB;}
			    
			    if (timerLvl11>99) {
			        // Draw  Main Box
			        var x;
			        if (timerLvl11<456) {
			            x = constrain(timerLvl11-100,0,65);
			        } else {
			            x = constrain(65-(timerLvl11-455),0,65);
			        }
			        fill(PAL[4]); stroke(PAL[2]); strokeWeight(5);
			        rect(10,(log(0.04*x)*70)-60,380,100,5);
			        
			        // Draw Portrait
			        if (timerLvl11<455) {
			            if (timerLvl11>301) {
			                drawDiaExp(DialogueReflection[dialogueSlide][0]);
			                noStroke();fill(PAL[4],(timerLvl11-300)*2);
			                rect(23,20,75,75);
			            } else if (timerLvl11>189) {
			                drawDiaExp(DialogueReflection[dialogueSlide][0]);
			                noStroke();fill(PAL[4],255-(timerLvl11-190)*2);
			                rect(23,20,75,75);
			            }
			        }
			        
			        // Draw Portrait Box
			        stroke(PAL[3]);
			        rect(20,(log(0.04*x)*70)-50,80,80);
			        
			        if (timerLvl11===300) {
			            // Produce "Animation"
			            var str="";
			            for (var i = 0; i<dialogueL+1; i++) {
			                str=str+DialogueReflection[dialogueSlide][1][i];
			            }
			            
			            // Draw Text
			            fill(PAL[3]); textFont(FontDia,15); fill(PAL[3]); noStroke();
			            text(str,240,50);
			            
			            // Text Update
			            if (dialogueL>DialogueReflection[dialogueSlide][1].length-2) {
			                textFont(FontLvl,12);
			                text("Space",365,95);
			                if (space===1) {
			                    if (dialogueSlide!==DialogueReflection.length-1) {
			                        dialogueT=0; dialogueL=0;
			                        dialogueSlide++;
			                        dialogueF=DialogueReflection[dialogueSlide][0];
			                        
			                    } else {
			                        dialogueSlide=0;
			                        dialogueL = 0;
			                        dialogueT = 0;
			                        dialogueF = 0;
			                        timerLvl11=301;
			                    }
			                }
			            } else {
			                dialogueT++;
			                if (dialogueT>2) {
			                    dialogueT=0; dialogueL++;
			                    if (DialogueReflection[dialogueSlide][1][dialogueL]===",") {
			                        dialogueT=-30;
			                    }
			                }
			                if (space===1) {
			                    dialogueL=DialogueReflection[dialogueSlide][1].length-1;
			                }
			            }
			        }
			    }
			    if (timerLvl22>119) {
			        //println(1);
			        // Draw  Main Box
			        var x;
			        if (timerLvl22<456) {
			            x = constrain(timerLvl22-120,0,65);
			        } else {
			            x = constrain(65-(timerLvl22-455),0,65);
			        }
			        fill(PAL[4]); stroke(PAL[2]); strokeWeight(5);
			        rect(10,(log(0.04*x)*70)-60,380,100,5);
			        
			        // Draw Portrait
			        if (timerLvl22<455) {
			            if (timerLvl22>301) {
			                drawDiaExp(DialogueBedroom[dialogueSlide][0]);
			                noStroke();fill(PAL[4],(timerLvl22-300)*2);
			                rect(23,20,75,75);
			            } else if (timerLvl22>189) {
			                drawDiaExp(DialogueBedroom[dialogueSlide][0]);
			                noStroke();fill(PAL[4],255-(timerLvl22-190)*2);
			                rect(23,20,75,75);
			            }
			        }
			        
			        // Draw Portrait Box
			        stroke(PAL[3]);
			        rect(20,(log(0.04*x)*70)-50,80,80);
			        
			        if (timerLvl22===300) {
			            //if (0&&timerLvl11===300) {dialogueSlide=27;}
			            
			            // Produce "Animation"
			            var str="";
			            for (var i = 0; i<dialogueL+1; i++) {
			                str=str+DialogueBedroom[dialogueSlide][1][i];
			            }
			            
			            // Draw Text
			            fill(PAL[3]); textFont(FontDia,15); fill(PAL[3]); noStroke();
			            text(str,240,50);
			            
			            // Text Update
			            if (dialogueL>DialogueBedroom[dialogueSlide][1].length-2) {
			                textFont(FontLvl,12);
			                text("Space",365,95);
			                if (space===1) {
			                    if (dialogueSlide!==DialogueBedroom.length-1) {
			                        // Next Line
			                        dialogueT=0; dialogueL=0;
			                        dialogueSlide++;
			                        dialogueF=DialogueBedroom[dialogueSlide][0];
			                        
			                        // Update Player Spr
			                        if (dialogueSlide===4) {cutscene22Spr=74;}
			                        if (dialogueSlide===5) {
			                            // Animate
			                            cutscene22SprTime=1;
			                        }
			                        if (dialogueSlide===6) {cutscene22Spr=78;}
			                        if (dialogueSlide===8) {cutscene22Spr=79;}
			                        
			                    } else {
			                        dialogueSlide=0;
			                        dialogueL = 0;
			                        dialogueT = 0;
			                        dialogueF = 0;
			                        timerLvl22=301;
			                    }
			                }
			            } else {
			                dialogueT++;
			                if (dialogueT>2) {
			                    dialogueT=0; dialogueL++;
			                    if (DialogueBedroom[dialogueSlide][1][dialogueL]===",") {
			                        dialogueT=-30;
			                    }
			                }
			                if (space===1) {
			                    dialogueL=DialogueBedroom[dialogueSlide][1].length-1;
			                }
			            }
			        }
			    }
			    
			    // Controls
			    if (level===1) {
			        textFont(FontLvl,14); fill(PAL[3]); noStroke();
			        textAlign(CORNER);
			        text("A D < > - Run\n W   ^ - Jump",280,360);
			        textAlign(CENTER,CENTER);
			    }
			    
			    // Ending
			    if (timerLvl22>599) {
			        var x = (timerLvl22-600)*4;
			        if (x<255) {drawTiles(); drawNonTiles();}
			        noStroke(); fill(PAL[4],x);
			        rect(0,0,400,400);
			    }
			    if (timerLvl22>70) {
			        drawSpr(245,305,70,3);drawSpr(275,305,71,3);drawSpr(305,305,72,3);
			        drawSpr(250,290,cutscene22Spr,3);
			    }
			    if (timerLvl22>799) {
			        drawTitle(100,50,2.5);
			        
			        if (!BSide) {
			            textFont(FontMain,20);
			            fill(PAL[3]);
			            text(pizzasTotal+"/10",215,155);
			        }
			        
			        textFont(FontMain,12);
			        fill(PAL[1]);
			        text("Programed by Bored Guy",115,100);
			        fill(PAL[2]);
			        text("Programed by Bored Guy",116,100);
			        
			        if (BSide) {
			            fill(PAL[3]);
			            text("As thee sun sets at dusk,\nthou body feels like musk.\nFor as when cleasnes core of your health,\nthou will to be a hero to yourself.",200,210);
			        } else {
			            drawSpr(155,140,63,3);
			            
			            fill(PAL[3]);
			            if (pizzasTotal<3) {
			                text("Tis is a crime to the stomach of thee,\nwithout passing the day without at least three.\nTry again and collect those slices...\nAnd I might give out some intresting advice.",200,210);
			                
			            } else {
			                text("Passed another day,\nyet another will always be at bay.\nSpell the title, and prepare for thee ride,\nand proceed to the            .",200,210);
			                fill(PalSides[1][2]);
			                text("B-Side",264,235);
			                fill(PAL[3]);
			            }
			        }
			        
			        text("[Press Space]",200,260);
			        
			        if (space===1) {curtainTo(0,5);}
			    }
			    
			    /** Level Debug **/
			    if (levelEdit) {
			        if (keys[69]) {levelEditBrush=0;}
			        if (keys[49]) {levelEditBrush=1;}
			        if (keys[50]) {levelEditBrush=2;}
			        if (keys[51]) {levelEditBrush=3;}
			        if (keys[52]) {levelEditBrush=4;}
			        if (keys[53]) {levelEditBrush=5;}
			        if (keys[54]) {levelEditBrush=6;}
			        
			        var mx = Math.floor((mouseX-5)/30);
			        var my = Math.floor((mouseY-5)/30);
			        var x = constrain(mx*30+5,5,365);
			        var y = constrain(my*30+5,5,365);
			        //drawSpr(x,y,SPR_SHEET.length-1,3,150);
			        
			        if (mouse&&mx>-1&&mx<13&&my>-1&&my<13) {
			            Level[my][mx] = levelEditBrush;
			            quickReset();
			        }
			        if (keys[32]) {
			            printlnLevel();
			        }
			    }
			    
			    //for (var j=0; j<SPR_SHEET.length; j++) {drawSpr((j*30)%390,50+(floor(j/13)*30),j,3);}
			    
			    }
			    
			    /** Curtain **/
			    if (curtainOn) {
			        curtainAlpha+=curtainSpeed;
			        if (curtainAlpha>254) {
			            curtainAlpha=255;
			            curtainSpeed*=-1;
			            MENU = curtainMenu;
			            if (MENU===2) {
			                curtainAlpha=0;
			                curtainOn=0;
			                
			                level = 1;
			                if (BSide) {level=23;}
			                newLevel();
			                loadLevel();
			            }
			            
			        }
			        if (curtainAlpha<0) {
			            curtainAlpha=0;
			            curtainSpeed=0;
			            curtainOn=0;
			        }
			    }
			    fill(PAL[4],curtainAlpha); noStroke();
			    rect(0,0,400,400);
			    
			    popMatrix();
			};
			
			/** Other **/
			keyPressed = function() {keys[keyCode]=1;
			    if (keyCode === LEFT) {
			        keys[65] = 1;
			    }
			    if (keyCode === RIGHT) {
			        keys[68] = 1;
			    }
			    if (keyCode === UP) {
			        keys[87] = 1;
			    }
			};
			keyReleased = function() {keys[keyCode]=0;
			    if (keyCode === LEFT) {
			        keys[65] = 0;
			    }
			    if (keyCode === RIGHT) {
			        keys[68] = 0;
			    }
			    if (keyCode === UP) {
			        keys[87] = 0;
			    }
			    
			};
			
			// 2486 Lines of code in total.
		}
		
		runPJS(program);
		
		// Add reload button on KA --> <script>
		
	</script>
</body>

</html>

